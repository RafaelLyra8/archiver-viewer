!function(t){function e(e){for(var i,o,s=e[0],u=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],r[o]&&f.push(r[o][0]),r[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={2:0,4:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([7,0,1]),n()}({11:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var i,r,a="x-axis-0",o=0;!function(t){t.Year="year",t.Month="month",t.Day="day",t.Hour="hour",t.Minute="minute",t.Second="second",t.Week="week"}(i||(i={})),function(t){t[t.YEAR=0]="YEAR",t[t.MONTH_9=1]="MONTH_9",t[t.MONTH_6=2]="MONTH_6",t[t.MONTH_3=3]="MONTH_3",t[t.MONTH_1=4]="MONTH_1",t[t.WEEK_2=5]="WEEK_2",t[t.WEEK_1=6]="WEEK_1",t[t.DAY_25=7]="DAY_25",t[t.DAY_1=8]="DAY_1",t[t.HOUR_18=9]="HOUR_18",t[t.HOUR_12=10]="HOUR_12",t[t.HOUR_8=11]="HOUR_8",t[t.HOUR_4=12]="HOUR_4",t[t.HOUR_2=13]="HOUR_2",t[t.HOUR_1=14]="HOUR_1",t[t.MIN_30=15]="MIN_30",t[t.MIN_5=16]="MIN_5",t[t.SEG_30=17]="SEG_30"}(r||(r={}))},12:function(t,e,n){"use strict";n.r(e);var i=n(20),r=n(11),a=["rgba(255, 0, 0, 1.0)","rgba(0, 255, 0, 1.0)","rgba(0, 0, 255, 1.0)","rgba(255, 10, 0, 1.0)","rgba(10, 255, 0, 1.0)","rgba(10, 10, 255, 1.0)","rgba(245, 130, 48, 1.0)","rgba(145, 30, 180, 1.0)","rgba(70, 240, 240, 1.0)","rgba(240, 50, 230 ,1.0)","rgba(210, 245, 60, 1.0)","rgba(250, 190, 190, 1.0)","rgba(0, 128, 128, 1.0)","rgba(230, 190, 255, 1.0)","rgba(170, 110, 40, 1.0)","rgba(128, 0, 0, 1.0)","rgba(170, 255, 195, 1.0)","rgba(255, 225, 25, 1.0)","rgba(0, 130, 200, 1.0)","rgba(128, 128, 128, 1.0)","rgba(0, 0, 0, 1.0)","rgba(230, 25, 75, 1.0)","rgba(60, 180, 75, 1.0)","rgba(0, 0, 128, 1.0)"],o=function(){return"#"+(Math.random().toString(16)+"0000000").slice(2,8)},s={MBAR:"mBar",mBar:"mBar",volt:"V",Volt:"V",v:"V"},u=n(37),c=n.n(u),l=n(6),d=n(8);n.d(e,"findAxisIndexById",(function(){return v})),n.d(e,"getDatasetIndex",(function(){return y})),n.d(e,"hideDatasetByLabel",(function(){return b}));var f=function(){return(f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},p=[];new Map;var m=!0,h=function(t){switch(t){case 1e-12:case 1e-11:case 1e-10:case 1e-9:case 1e-8:case 1e-7:case 1e-6:case 1e-5:case 1e-4:case.001:case.01:case.1:return t.toExponential(1);default:return""}},g=new Map;g.set("mBar",h);var v=function(t,e){for(var n=1;n<t.options.scales.yAxes.length;n++)if(t.options.scales.yAxes[n].id===e)return n;return console.error("Failed to find index of axis "+e),null},x=function(t,e,n){if(e in p)p[e]++;else{p[e]=1,void 0===n&&(n=3);var i={id:e,type:"linear",display:!0,position:m?"left":"right",scaleLabel:{display:!0,labelString:e}};t.options.scales.yAxes.push(f(f({},i),{ticks:{callback:function(t){return 0!==t&&Math.abs(t)<Math.pow(10,-n)?t.toExponential(n):n>4?t.toExponential(3):t.toFixed(n)},minor:{display:!0,labelOffset:0,padding:0}}})),m=!m,t.update(),l.default.dispatch(Object(d.addToDataAxis)(i))}},y=function(t,e){var n=null;return e.data.datasets.forEach((function(e,i){null===n&&e.label===t&&(n=i)})),null===n&&console.error("Failed to get dataset index of label "+t),n},b=function(t,e){var n=y(t,e);if(null!==n){var i=e.getDatasetMeta(n),r=i.yAxisID;i.hidden?(i.hidden=!1,p[r]++,e.scales[r].options.display=!0):(i.hidden=!0,p[r]--,p[r]<=0&&(e.scales[r].options.display=!1)),e.update(0,!1),l.default.dispatch(Object(d.setDatasetVisible)({index:n,visible:!i.hidden}))}else console.error("Failed to obtain dataset index of label "+t)},A=function(t,e){t.hidden?(p[t.yAxisID]++,e.scales[t.yAxisID].options.display=!0,t.hidden=!1):(t.hidden=!0,p[t.yAxisID]--,p[t.yAxisID]<=0&&(e.scales[t.yAxisID].options.display=!1))},S=function(t,e,n,i){var r=n.width,a=n.height,o={x:0,y:e};return t>n._chart.width-(r+10)?o.x=t-r-5:o.x=t+5,o.y=e-a*i+5,o};c.a.Tooltip.positioners.cursor=function(t,e){return S(e.x,e.y,this,0)};e.default={timeAxisID:r.a,timeAxisPreferences:i.TIME_AXIS_PREFERENCES,timeIDs:i.TIME_IDS,getAxesInUse:function(t){if(null==t||t.length<=1)return[];var e=[];return t.forEach((function(t){t.id in p&&p[t.id]>0&&e.push(t)})),e},yAxisUseCounter:function(){return p},colorStack:function(){return a},axisPositionLeft:function(){return m},toggleTooltipBehavior:function(t,e){e?(t.options.tooltips.position="nearest",t.options.tooltips.mode="nearest",t.options.tooltips.caretSize=5,delete t.options.tooltips.yAlign,delete t.options.tooltips.xAlign,delete t.options.tooltips.axis,t.options.elements.point.hoverRadius=5):(t.options.tooltips.position="cursor",t.options.tooltips.mode="nearest",t.options.tooltips.caretSize=0,t.options.tooltips.yAlign="no-transform",t.options.tooltips.xAlign="no-transform",t.options.tooltips.axis="x",t.options.elements.point.hoverRadius=0),t.update()},updateAxisPositionLeft:function(t){m=t},toggleAxisType:function(t,e){var n=function(t,e){if(t.options.scales.yAxes.length<=1)return null;for(var n=1;n<t.options.scales.yAxes.length;n++)if(t.options.scales.yAxes[n].id===e)return t.options.scales.yAxes[n];return null}(t,e);if(null!==n){var i="linear"===n.type;n.type=i?"logarithmic":"linear",i?(n.callback=h,e in g?n.callback=g.get(e):delete n.callback):delete n.callback,t.update(),l.default.dispatch(Object(d.setAxisTypeLog)({id:e,isLog:i}))}},updateTimeAxis:function(t,e,n,i,a){t.options.scales.xAxes[r.b].time.unit=e,t.options.scales.xAxes[r.b].time.stepSize=n,t.options.scales.xAxes[r.b].time.min=i,t.options.scales.xAxes[r.b].time.max=a},appendDataAxis:x,appendDataset:function(t,e,n,i,u){var c=parseFloat(u.samplingPeriod),p=u.pvName,m=u.DESC,h=u.DBRType,g=function(t,e){var n;return n=(n=void 0===t||""===t?e:t).replace("?","o"),t in s?s[n]:n}(u.EGU,u.pvName),v=a.length>0?a.pop():o();x(t,g,i);var y={label:p,yAxisID:g,backgroundColor:v,borderColor:v,pv:{precision:i,type:h,samplingPeriod:c,optimized:!(n<0),desc:m,egu:g,metadata:u}};t.data.datasets.push(f(f({},y),{xAxisID:r.a,borderWidth:1.5,data:e,fill:!1,pointRadius:0,showLine:!0,steppedLine:!0})),t.update(),l.default.dispatch(Object(d.addToDataset)(f(f({visible:!0},y),{pv:f({},y.pv)})))},hidesAxis:A,legendCallback:function(t,e){var n=this.chart.getDatasetMeta(e.datasetIndex);A(n,this.chart),this.chart.update(0,!1)},labelCallback:function(t,e){var n=e.datasets[t.datasetIndex].pv.precision,i=e.datasets[t.datasetIndex].label,r=t.yLabel;return i+": "+(n>4?r.toExponential(3):0!==r&&Math.abs(r)<Math.pow(10,-n)?r.toExponential(Math.min(3,n)):r.toExponential(n))},reboundTooltip:S,randomColorGenerator:o}},14:function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.debug="debug",t.info="info",t.warn="warn",t.error="error"}(i||(i={}))},15:function(t,e,n){"use strict";var i=n(9),r=0,a=Object(i.b)({initialState:{entries:[]},name:"status",reducers:{addEntry:{reducer:function(t,e){t.entries.length>10?t.entries=t.entries.slice(1):t.entries.push(e.payload)},prepare:function(t){var e=t.level,n=t.message,i=t.time,a=t.title;return r++,{payload:{dateString:i.toString(),level:e,message:n,title:a,id:r}}}}}}),o=a.actions,s=a.reducer;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}))},18:function(t,e,n){"use strict";var i=n(9),r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=Object(i.b)({name:"search",initialState:{visible:!1,results:{}},reducers:{setSearchResults:{reducer:function(t,e){t.results=e.payload},prepare:function(t){var e={};return t.forEach((function(t){var n=r(r({},t),{selected:!1});e[t.pvName]=n})),{payload:e}}},setSearchResultsVisible:function(t,e){t.visible=e.payload},doSelectAllResults:function(t){for(var e in t.results)t.results[e].selected=!0},doDeselectAllResults:function(t){for(var e in t.results)t.results[e].selected=!1},doSelectSearchResult:function(t,e){var n=e.payload,i=n.selected,r=n.pvName;t.results[r].selected=i}}}),o=a.actions,s=a.reducer;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}))},187:function(t,e,n){"use strict";n.r(e);var i=n(6),r=n(8).actions.setAutoScroll,a=function(){function t(t){this.state=!1,this.UPDATE_INTERVAL=5e3,this.updateFunction=t}return t.prototype.setState=function(t){this.state=t,i.default.dispatch(r(this.state))},t.prototype.isEnabled=function(){return this.state},t.prototype.setEnabled=function(){this.timerRef=setInterval(this.updateFunction,this.UPDATE_INTERVAL),this.setState(!0)},t.prototype.setDisabled=function(){clearInterval(this.timerRef),this.setState(!1)},t.prototype.toggle=function(){this.setState(!this.state)},t}();e.default=function(t){return new a(t)}},20:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIME_AXIS_PREFERENCES=e.TIME_IDS=void 0;var i={YEAR:0,MONTH_9:1,MONTH_6:2,MONTH_3:3,MONTH_1:4,WEEK2:5,WEEK1:6,DAY25:7,DAY1:8,HOUR18:9,HOUR12:10,HOUR_8:11,HOUR_4:12,HOUR2:13,HOUR1:14,MIN_30:15,MIN10:16,MIN_5:17,MIN1:18,SEG_30:19};e.TIME_IDS=i;var r=[{text:"1Y",unit:"month",unitStepSize:2,milliseconds:31536e6,optimized:!0,bins:2e3,id:i.YEAR},{text:"9M",unit:"day",unitStepSize:4,milliseconds:23328e6,optimized:!0,bins:1200,id:i.MONTH_9},{text:"6M",unit:"day",unitStepSize:4,milliseconds:15552e6,optimized:!0,bins:1200,id:i.MONTH_6},{text:"3M",unit:"day",unitStepSize:4,milliseconds:7776e6,optimized:!0,bins:1200,id:i.MONTH_3},{text:"1M",unit:"day",unitStepSize:4,milliseconds:2592e6,optimized:!0,bins:800,id:i.MONTH_1},{text:"2w",unit:"day",unitStepSize:2,milliseconds:12096e5,optimized:!0,bins:800,id:i.WEEK2},{text:"1w",unit:"day",unitStepSize:2,milliseconds:6048e5,optimized:!0,bins:800,id:i.WEEK1},{text:"2.5d",unit:"hour",unitStepSize:12,milliseconds:216e6,optimized:!0,bins:800,id:i.DAY25},{text:"1d",unit:"hour",unitStepSize:3,milliseconds:864e5,optimized:!0,bins:800,id:i.DAY1},{text:"18h",unit:"hour",unitStepSize:2,milliseconds:648e5,optimized:!0,bins:800,id:i.HOUR18},{text:"12h",unit:"hour",unitStepSize:2,milliseconds:432e5,optimized:!0,bins:800,id:i.HOUR12},{text:"8h",unit:"hour",unitStepSize:2,milliseconds:288e5,optimized:!0,bins:800,id:i.HOUR_8},{text:"4h",unit:"hour",unitStepSize:2,milliseconds:144e5,optimized:!0,bins:400,id:i.HOUR_4},{text:"2h",unit:"minute",unitStepSize:15,milliseconds:72e5,optimized:!0,bins:400,id:i.HOUR2},{text:"1h",unit:"minute",unitStepSize:15,milliseconds:36e5,optimized:!1,bins:200,id:i.HOUR1},{text:"30m",unit:"minute",unitStepSize:3,milliseconds:18e5,optimized:!1,bins:200,id:i.MIN_30},{text:"10m",unit:"minute",unitStepSize:2,milliseconds:6e5,optimized:!1,bins:50,id:i.MIN10},{text:"5m",unit:"second",unitStepSize:30,milliseconds:3e5,optimized:!1,bins:50,id:i.MIN_5},{text:"1m",unit:"second",unitStepSize:15,milliseconds:6e4,optimized:!1,bins:50,id:i.MIN1},{text:"30s",unit:"second",unitStepSize:3,milliseconds:3e4,optimized:!1,bins:50,id:i.SEG_30}];e.TIME_AXIS_PREFERENCES=r},21:function(t,e,n){"use strict";n.r(e);var i=n(6),r=n(22),a=new(function(){function t(){}return t.prototype.IncrementActiveRequests=function(){i.default.dispatch(r.a.increment())},t.prototype.DecrementActiveRequests=function(){i.default.dispatch(r.a.decrement())},t}()),o=n(15),s=n(14),u=new(function(){function t(){}return t.prototype.Info=function(t,e){var n={level:s.a.info,time:new Date,message:e,title:t};i.default.dispatch(o.a.addEntry(n))},t.prototype.Warning=function(t,e){var n={level:s.a.warn,time:new Date,message:e,title:t};i.default.dispatch(o.a.addEntry(n))},t.prototype.Error=function(t,e){var n={level:s.a.error,time:new Date,message:e,title:t};i.default.dispatch(o.a.addEntry(n))},t}());n.d(e,"RequestsDispatcher",(function(){return a})),n.d(e,"StatusDispatcher",(function(){return u}))},218:function(t,e,n){var i={"./af":45,"./af.js":45,"./ar":46,"./ar-dz":47,"./ar-dz.js":47,"./ar-kw":48,"./ar-kw.js":48,"./ar-ly":49,"./ar-ly.js":49,"./ar-ma":50,"./ar-ma.js":50,"./ar-sa":51,"./ar-sa.js":51,"./ar-tn":52,"./ar-tn.js":52,"./ar.js":46,"./az":53,"./az.js":53,"./be":54,"./be.js":54,"./bg":55,"./bg.js":55,"./bm":56,"./bm.js":56,"./bn":57,"./bn-bd":58,"./bn-bd.js":58,"./bn.js":57,"./bo":59,"./bo.js":59,"./br":60,"./br.js":60,"./bs":61,"./bs.js":61,"./ca":62,"./ca.js":62,"./cs":63,"./cs.js":63,"./cv":64,"./cv.js":64,"./cy":65,"./cy.js":65,"./da":66,"./da.js":66,"./de":67,"./de-at":68,"./de-at.js":68,"./de-ch":69,"./de-ch.js":69,"./de.js":67,"./dv":70,"./dv.js":70,"./el":71,"./el.js":71,"./en-au":72,"./en-au.js":72,"./en-ca":73,"./en-ca.js":73,"./en-gb":74,"./en-gb.js":74,"./en-ie":75,"./en-ie.js":75,"./en-il":76,"./en-il.js":76,"./en-in":77,"./en-in.js":77,"./en-nz":78,"./en-nz.js":78,"./en-sg":79,"./en-sg.js":79,"./eo":80,"./eo.js":80,"./es":81,"./es-do":82,"./es-do.js":82,"./es-mx":83,"./es-mx.js":83,"./es-us":84,"./es-us.js":84,"./es.js":81,"./et":85,"./et.js":85,"./eu":86,"./eu.js":86,"./fa":87,"./fa.js":87,"./fi":88,"./fi.js":88,"./fil":89,"./fil.js":89,"./fo":90,"./fo.js":90,"./fr":91,"./fr-ca":92,"./fr-ca.js":92,"./fr-ch":93,"./fr-ch.js":93,"./fr.js":91,"./fy":94,"./fy.js":94,"./ga":95,"./ga.js":95,"./gd":96,"./gd.js":96,"./gl":97,"./gl.js":97,"./gom-deva":98,"./gom-deva.js":98,"./gom-latn":99,"./gom-latn.js":99,"./gu":100,"./gu.js":100,"./he":101,"./he.js":101,"./hi":102,"./hi.js":102,"./hr":103,"./hr.js":103,"./hu":104,"./hu.js":104,"./hy-am":105,"./hy-am.js":105,"./id":106,"./id.js":106,"./is":107,"./is.js":107,"./it":108,"./it-ch":109,"./it-ch.js":109,"./it.js":108,"./ja":110,"./ja.js":110,"./jv":111,"./jv.js":111,"./ka":112,"./ka.js":112,"./kk":113,"./kk.js":113,"./km":114,"./km.js":114,"./kn":115,"./kn.js":115,"./ko":116,"./ko.js":116,"./ku":117,"./ku.js":117,"./ky":118,"./ky.js":118,"./lb":119,"./lb.js":119,"./lo":120,"./lo.js":120,"./lt":121,"./lt.js":121,"./lv":122,"./lv.js":122,"./me":123,"./me.js":123,"./mi":124,"./mi.js":124,"./mk":125,"./mk.js":125,"./ml":126,"./ml.js":126,"./mn":127,"./mn.js":127,"./mr":128,"./mr.js":128,"./ms":129,"./ms-my":130,"./ms-my.js":130,"./ms.js":129,"./mt":131,"./mt.js":131,"./my":132,"./my.js":132,"./nb":133,"./nb.js":133,"./ne":134,"./ne.js":134,"./nl":135,"./nl-be":136,"./nl-be.js":136,"./nl.js":135,"./nn":137,"./nn.js":137,"./oc-lnc":138,"./oc-lnc.js":138,"./pa-in":139,"./pa-in.js":139,"./pl":140,"./pl.js":140,"./pt":141,"./pt-br":142,"./pt-br.js":142,"./pt.js":141,"./ro":143,"./ro.js":143,"./ru":144,"./ru.js":144,"./sd":145,"./sd.js":145,"./se":146,"./se.js":146,"./si":147,"./si.js":147,"./sk":148,"./sk.js":148,"./sl":149,"./sl.js":149,"./sq":150,"./sq.js":150,"./sr":151,"./sr-cyrl":152,"./sr-cyrl.js":152,"./sr.js":151,"./ss":153,"./ss.js":153,"./sv":154,"./sv.js":154,"./sw":155,"./sw.js":155,"./ta":156,"./ta.js":156,"./te":157,"./te.js":157,"./tet":158,"./tet.js":158,"./tg":159,"./tg.js":159,"./th":160,"./th.js":160,"./tk":161,"./tk.js":161,"./tl-ph":162,"./tl-ph.js":162,"./tlh":163,"./tlh.js":163,"./tr":164,"./tr.js":164,"./tzl":165,"./tzl.js":165,"./tzm":166,"./tzm-latn":167,"./tzm-latn.js":167,"./tzm.js":166,"./ug-cn":168,"./ug-cn.js":168,"./uk":169,"./uk.js":169,"./ur":170,"./ur.js":170,"./uz":171,"./uz-latn":172,"./uz-latn.js":172,"./uz.js":171,"./vi":173,"./vi.js":173,"./x-pseudo":174,"./x-pseudo.js":174,"./yo":175,"./yo.js":175,"./zh-cn":176,"./zh-cn.js":176,"./zh-hk":177,"./zh-hk.js":177,"./zh-mo":178,"./zh-mo.js":178,"./zh-tw":179,"./zh-tw.js":179};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=218},22:function(t,e,n){"use strict";var i,r=n(9),a=Object(r.b)({name:"requests",initialState:{pending:0,error:"",errorDateString:""},reducers:{increment:function(t){t.pending++},decrement:function(t){t.pending--}}}),o=((i=a.actions).decrement,i.increment,a.actions),s=a.reducer;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}))},24:function(t,e,n){"use strict";n.r(e);var i=n(17),r=n.n(i),a=function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{u(i.next(t))}catch(t){a(t)}}function s(t){try{u(i.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))},o=function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//,u=function(){function t(){this.host="10.0.38.46",this.url=this.getUrl(),this.BYPASS_URL=window.location.protocol+"//"+this.url+"/archiver-generic-backend",this.GET_DATA_URL=window.location.protocol+"//"+this.url+"/retrieval/data/getData.json",this.APPLIANCES=[window.location.protocol+"//"+this.url,window.location.protocol+"//"+this.url+"/archiver-beamlines"]}return t.prototype.getRemoteDate=function(){return a(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,r.a.get(this.BYPASS_URL+"/date",{timeout:2e3}).then((function(t){if(200===t.status)return t.data;throw"Invalid response from date backend "+t.status+", "+t.data}))];case 1:return(t=e.sent())?[2,new Date(t)]:[2,null]}}))}))},t.prototype.fetchMetadata=function(t){return a(this,void 0,void 0,(function(){var e,n,i,a,s;return o(this,(function(o){switch(o.label){case 0:if(void 0===t)return[2,null];e=0,n=this.APPLIANCES,o.label=1;case 1:return e<n.length?(i=n[e],a=i+"/retrieval/bpl/getMetadata?pv="+t,[4,r.a.get(a,{timeout:0,responseType:"json"}).then((function(t){return 200!==t.status?null:t.data})).catch((function(t){return null}))]):[3,4];case 2:if(null!==(s=o.sent()))return[2,s];o.label=3;case 3:return e++,[3,1];case 4:return[2,null]}}))}))},t.prototype.setUrl=function(t){this.url=t},t.prototype.query=function(t){return a(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return 1e4,e=window.location.protocol+"//"+this.url+"/retrieval/bpl/getMatchingPVs?"+new URLSearchParams({pv:t,limit:"500"}).toString(),[4,r.a.get(e,{method:"GET",timeout:1e4,responseType:"json"}).then((function(t){if(200!==t.status)throw"Failed to complete request "+e+", response "+t;return t.data}))];case 1:return[2,n.sent()]}}))}))},t.prototype.parseData=function(t){var e=[];return t.forEach((function(t){var n,i=t.val,r=t.secs,a=t.nanos,o=t.severity,s=t.status;if(i instanceof Array){var u=i[0];i[1],i[2],i[3],i[4];n=u}else n=i;var c=new Date(1e3*r+1e-6*a);isNaN(c.getTime())||e.push({x:c,y:n,severity:o,status:s})})),e},t.prototype.fetchData=function(t,e,n,i,s){return a(this,void 0,void 0,(function(){var a,u;return o(this,(function(o){switch(o.label){case 0:return void 0===e||void 0===n?[2,null]:(void 0===i&&(i=!1),a=i?this.GET_DATA_URL+"?pv=optimized_"+s+"("+t+")&from="+e.toJSON()+"&to="+n.toJSON():this.GET_DATA_URL+"?pv="+t+"&from="+e.toJSON()+"&to="+n.toJSON(),[4,r.a.get(a,{timeout:0,method:"GET",responseType:"text",transformResponse:function(t){if(t.includes("Bad Request"))throw"Invalid response from "+a;var e=t.replace(/(-?Infinity)/g,'"$1"');return e=e.replace(/(NaN)/g,'"$1"'),e=JSON.parse(e)}}).then((function(t){if(200!==t.status)throw"Request "+a+" return invalid status code "+t;return t.data[0]}))]);case 1:return[2,{meta:(u=o.sent()).meta,data:this.parseData(u.data)}]}}))}))},t.prototype.getUrl=function(){if("vpn.cnpem.br"===window.location.host){var t=s.exec(window.location.href);t&&t.length>1&&(this.host=t[1])}else this.host=window.location.host;return"localhost:8080"!==window.location.host&&"127.0.0.1:8080"!==window.location.host||(this.host="10.0.38.46",console.log("DEBUG SERVER. Setting host to "+this.host)),this.host},t}(),c=function(){return new u}();e.default=c},34:function(t,e,n){"use strict";var i;n.r(e),n.d(e,"StackAction",(function(){return i})),function(t){t[t.REMOVE_PV=0]="REMOVE_PV",t[t.APPEND_PV=1]="APPEND_PV",t[t.CHANGE_WINDOW_TIME=2]="CHANGE_WINDOW_TIME",t[t.CHANGE_END_TIME=3]="CHANGE_END_TIME",t[t.CHANGE_START_TIME=4]="CHANGE_START_TIME",t[t.ZOOM=5]="ZOOM"}(i||(i={}))},44:function(t,e,n){"use strict";n.r(e);var i=new(function(){function t(){}return t.prototype.isValidDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},t.prototype.getConfigFromUrl=function(){for(var t=[],e=null,n=null,i=window.location.search.split("&"),r=0;r<i.length;r++)-1!==i[r].indexOf("pv=")?t.push(decodeURIComponent(i[r].substr(i[r].indexOf("=")+1))):-1!==i[r].indexOf("from=")?e=decodeURIComponent(i[r].substr(i[r].indexOf("=")+1)):-1!==i[r].indexOf("to=")&&(n=decodeURIComponent(i[r].substr(i[r].indexOf("=")+1)));var a=null,o=null;return e&&(a=new Date(e)),n&&(o=new Date(n)),this.isValidDate(a)||(a=null),this.isValidDate(o)||(o=null),{to:o,from:a,pvs:t}},t.prototype.pushAddress=function(t){var e=""+window.location.pathname+t;history.pushState&&window.history.pushState({path:e},"",e)},t.prototype.updateAddress=function(t,e,n,i){var r="?";t.forEach((function(t){var n=t.label,i=t.pv.optimized;r+=i?"pv=optimized_"+e+"("+encodeURIComponent(n)+")&":"pv="+encodeURIComponent(n)+"&"})),r+="from="+encodeURIComponent(n.toJSON())+"&",r+="to="+encodeURIComponent(i.toJSON()),this.pushAddress(r)},t.prototype.setCookie=function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=t+"="+e+"; "+r+"; SameSite=Strict"},t.prototype.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""},t}());e.default=i},6:function(t,e,n){"use strict";n.r(e);var i=n(9),r=n(184),a=n.n(r),o=n(27),s=n(8),u=n(22),c=n(18),l=n(15),d=Object(o.c)({chart:s.default,requests:u.b,search:c.b,status:l.b}),f=Object(i.a)({reducer:d,middleware:function(t){return t().concat(a.a)}});e.default=f},7:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(224),n(225),n(208),n(190),n(226),n(193),n(227),n(194),n(228),n(229),n(195),n(196),n(230),n(231),n(232),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.removeDatasetByLabel=e.optimizeDataset=e.hideDataset=e.toggleAutoY=e.toggleAxisType=e.doSubscriptions=void 0,n(197);var r=p(n(24)),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=r?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(12)),o=n(21),s=n(8),u=p(n(6)),c=n(34),l=p(n(187)),d=p(n(44));function f(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n,i,r,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){m(a,i,r,o,s,"next",t)}function s(t){m(a,i,r,o,s,"throw",t)}o(void 0)}))}}var g,v,x={START:!1,END:!0},y=null,b=function(t){u.default.dispatch((0,s.setTimeStart)(t.toString())),g=t},A=function(t){u.default.dispatch((0,s.setTimeEnd)(t.toString())),v=t},S=function(){return u.default.dispatch((0,s.setLoading)(!0))},j=function(){return u.default.dispatch((0,s.setLoading)(!1))},T=x.END,w=a.default.timeIDs.MIN10;function D(t){w=t,u.default.dispatch((0,s.setWindowTime)(w))}var E=(0,l.default)(_),R=function(){return E.isEnabled()},_=function(){var t=h(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T===x.START&&k(x.END),t.next=3,yt();case 3:return e=t.sent,t.next=6,et(e,!0,!0);case 6:return a.default.updateTimeAxis(y,a.default.timeAxisPreferences[w()].unit,a.default.timeAxisPreferences[w()].unitStepSize,g(),v()),vt(),t.next=10,ht(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){return E.setDisabled()},k=function(t){T=t,u.default.dispatch((0,s.setTimeReferenceEnd)(T))},M=!0;function z(){return M}function I(t){M=t,u.default.dispatch((0,s.setSingleTooltip)(M))}var N=!0,P=!0,U=null,H=null,L={dragStarted:!1,updateOnComplete:!0},C={isZooming:!1,hasBegan:!1},F=[],V=[],W=Chart.scaleService.constructors.linear.prototype.getPixelForValue;Chart.scaleService.constructors.linear.prototype.getPixelForValue=function(t){var e=W.call(this,t);return Math.min(2147483647,Math.max(-2147483647,e))};var Y=Chart.Controller.prototype.eventHandler;Chart.Controller.prototype.eventHandler=function(){var t=Y.apply(this,arguments);if(!M){var e=arguments[0].x;this.clear(),this.draw();var n=this.scales["y-axis-0"];this.chart.ctx.beginPath(),this.chart.ctx.moveTo(e,n.getPixelForValue(n.max)),this.chart.ctx.strokeStyle="#ff0000",this.chart.ctx.lineTo(e,n.getPixelForValue(n.min)),this.chart.ctx.stroke()}this.tooltip.width=this.tooltip._model.width,this.tooltip.height=this.tooltip._model.height;var i=a.default.reboundTooltip(arguments[0].x,arguments[0].y,this.tooltip,.5);return this.tooltip._model.x=i.x,this.tooltip._model.y=i.y,t};var G=function(){u.default.subscribe((function(){u.default.getState().chart.dataAxis.forEach((function(t,e){var n=t.id,i=t.yLimitManual,r=t.yMin,o=t.yMax,s=!1,u=(0,a.findAxisIndexById)(y,n);if(null!==u){var c=y.options.scales.yAxes[u];i?(r&&(!("min"in c.ticks)||"min"in c.ticks&&r!==c.ticks.min)&&(s=!0,c.ticks.min=r),o&&(!("max"in c.ticks)||"max"in c.ticks&&o!==c.ticks.max)&&(s=!0,c.ticks.max=o)):(delete c.ticks.max,delete c.ticks.min,s=!0),s&&y.update()}}))}))};function B(){return(B=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(e),w<a.default.timeIDs.MIN_30&&R()&&O(),T!==x.END){t.next=6;break}g=new Date(v.getTime()-a.default.timeAxisPreferences[w].milliseconds),t.next=11;break;case 6:if(T!==x.START){t.next=11;break}return t.next=9,yt();case 9:n=t.sent,v=g.getTime()+a.default.timeAxisPreferences[w].milliseconds<=n.getTime()?new Date(g.getTime()+a.default.timeAxisPreferences[w].milliseconds):n;case 11:lt(),ht(!0),vt(),a.default.updateTimeAxis(y,a.default.timeAxisPreferences[w].unit,a.default.timeAxisPreferences[w].unitStepSize,g,v);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return Z.apply(this,arguments)}function Z(){return(Z=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.default.fetchMetadata(e).then((function(t){return t})).catch((function(t){var n="Failed to fetch metadata for pv ".concat(e," error ").concat(t);return console.log(n),o.StatusDispatcher.Error("Fetch metadata failure",n),null}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=h(regeneratorRuntime.mark((function t(e,n,i){var s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0===a.default.colorStack().length&&console.log("Color stack limit reached. A random color will be used for pv ".concat(e,".")),t.next=3,q(e);case 3:return s=t.sent,u=K(parseFloat(s.samplingPeriod),s.DBRType),!1===n?u=-1:n&&-1===u&&(u=a.default.timeAxisPreferences[w].bins),S(),t.next=9,r.default.fetchData(e,g,v,!(u<0),u).then((function(t){var e=t.meta,n=e.PREC,i=e.name,r=t.data;if(0===t.data.length){var c="No data for ".concat(i," was received from server in the interval ").concat(g," to ").concat(v,".");o.StatusDispatcher.Warning("No data on interval",c)}else a.default.appendDataset(y,rt(r),u,parseInt(n)+1,s)})).catch((function(t){var e="Failure ".concat(t);console.error(e),o.RequestsDispatcher.Error(e)}));case 9:j(),it(),vt(),i&&null!=i||F.push({action:c.StackAction.APPEND_PV,pv:e});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.doSubscriptions=G;var K=function(t,e){return"DBR_SCALAR_ENUM"===e?-1:w<a.default.timeIDs.HOUR2?a.default.timeAxisPreferences[w].bins:-1};function X(t,e){return $.apply(this,arguments)}function $(){return($=h(regeneratorRuntime.mark((function t(e,n){var i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v||(i=e),i=e.getTime()<=n.getTime()?e:n,r=new Date(i.getTime()-a.default.timeAxisPreferences[w].milliseconds),i&&(v=i),g=r;case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t,e){return tt.apply(this,arguments)}function tt(){return(tt=h(regeneratorRuntime.mark((function t(e,n){var i,r,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g||(i=n),e.getTime()+a.default.timeAxisPreferences[w].milliseconds<=n.getTime()?(o=new Date(e.getTime()+a.default.timeAxisPreferences[w].milliseconds),i=e,r=o):(s=new Date(n.getTime()-a.default.timeAxisPreferences[w].milliseconds),i=s,r=n),i&&(g=i),r&&(v=r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=h(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==e&&(e=new Date),t.next=3,yt();case 3:if(i=t.sent,!(T===x.END)){t.next=11;break}return n&&F.push({action:c.StackAction.CHANGE_END_TIME,endTime:v}),t.next=9,X(e,i);case 9:t.next=14;break;case 11:return n&&F.push({action:c.StackAction.CHANGE_START_TIME,startTime:g}),t.next=14,Q(e,i);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var it=function(){for(var t=!1,e=0;e<y.data.datasets.length;e++)t|=y.data.datasets[e].pv.optimized;if(t){o.RequestsDispatcher.Warning("Data is being optimized","In order to reduce the data amount retrieved from server, an optimization is used. Each point corresponds to an average calculated over its neighborhood.")}},rt=function(t){var e=[];if(t.length>0){var n=t[0],i=t[t.length-1];n.x.getTime()>g.getTime()&&e.push({x:g,y:n.y}),i.x.getTime()<v.getTime()&&t.push({x:v,y:i.y})}return t.unshift.apply(t,e),t},at={};function ot(t,e){return st.apply(this,arguments)}function st(){return(st=h(regeneratorRuntime.mark((function t(e,n){var i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.default.timeAxisPreferences[w].bins,s=(new Date).getTime(),at[e]=s,t.next=5,r.default.fetchData(n.label,g,v,n.pv.optimized,i).then((function(t){var i=t.data;at[e]===s&&(i.length>0&&Array.prototype.push.apply(n.data,rt(i)),at[e]=null)})).catch((function(t){var e="Failed to fetch ".concat(n.label," data, error ").concat(t);o.StatusDispatcher.Error("Archiver data acquisition",e),console.error(e)}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t){return ct.apply(this,arguments)}function ct(){return(ct=h(regeneratorRuntime.mark((function t(e){var n,i,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=y.data.datasets[e]).data.length){t.next=5;break}return t.next=4,ot(e,n);case 4:return t.abrupt("return",t.sent);case 5:if(i=n.data[0].x,r=n.data[n.data.length-1].x,a=function(){for(;n.data.length>0&&n.data[0].x.getTime()<g.getTime();)n.data.shift()},o=function(){for(var t=n.data.length-1;n.data.length>0&&n.data[t].x.getTime()>v.getTime();t--)n.data.pop()},!(i.getTime()>g.getTime())){t.next=15;break}return t.next=13,pt(n,i);case 13:t.next=16;break;case 15:a();case 16:if(!(r.getTime()<v.getTime())){t.next=22;break}return t.next=20,dt(n,r);case 20:t.next=23;break;case 22:o();case 23:return t.next=25,rt(n.data);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var lt=function(){y.data.datasets.forEach((function(t,e){var n=!(K(t.pv.samplingPeriod,t.pv.type)<0);t.pv.optimized=n,u.default.dispatch((0,s.setDatasetOptimized)({index:e,optimized:n}))}))};function dt(t,e){return ft.apply(this,arguments)}function ft(){return(ft=h(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.name,t.next=3,r.default.fetchData(i,n,v,!1).then((function(t){var i=t.data;if(i.length>0){for(var r=i[0].x;i.length>0&&r.getTime()<=n.getTime();)i.shift(),i.length>0&&(r=i[0].x);e.data.push(i)}})).catch((function(t){var e="Failed to fill data from ".concat(i," [").concat(n," to ").concat(v,"], error ").concat(t);console.error(e),o.RequestsDispatcher.Error(e)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pt(t,e){return mt.apply(this,arguments)}function mt(){return(mt=h(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.label,t.next=3,r.default.fetchData(e.label,g,n,!1).then((function(t){var i=t.data;if(i.length>0){for(var r=i[0].x;i.length>0&&r.getTime()>=n.getTime();)i.pop(),i.length>0&&(r=i[0].x);e.data.unshift(i)}})).catch((function(t){var e="Failed to fill data from ".concat(i," [").concat(g," to ").concat(n,"], error ").concat(t);console.error(e),o.RequestsDispatcher.Error(e)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t){return gt.apply(this,arguments)}function gt(){return(gt=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),it(),n=y.data.datasets.map(function(){var t=h(regeneratorRuntime.mark((function t(n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n.pv.optimized||e)&&(n.data.length=0),t.next=3,ut(i).then((function(){y.update()}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t.next=5,Promise.all(n).catch((function(t){return console.exception("Failed to update all plots ".concat(t.message))}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var vt=function(){var t=a.default.timeAxisPreferences[w].bins,e=y.data.datasets;d.default.updateAddress(e,t,g,v)};function xt(){var t=new Date;return H&&U?(t.getTime()-H.getTime())/1e3>30:(H=t,!0)}function yt(){return bt.apply(this,arguments)}function bt(){return(bt=h(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P){t.next=2;break}return t.abrupt("return",new Date);case 2:if(xt()){t.next=4;break}return t.abrupt("return",U);case 4:return t.prev=4,t.next=7,r.default.getRemoteDate();case 7:return e=t.sent,n=e||new Date,U=n,H=new Date,t.abrupt("return",n);case 14:return t.prev=14,t.t0=t.catch(4),console.log("Date retrieval failed. Using local date."),P=!1,t.abrupt("return",new Date);case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))).apply(this,arguments)}var At=function(){var t=h(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.data.datasets[e].pv.optimized=n,y.data.datasets[e].data.length=0,t.next=4,ut(e).then((function(t){j(),vt(),y.update(),console.log("Plot update at index",e)})).catch((function(t){console.log("Failed to update plot at index ",e)}));case 4:u.default.dispatch((0,s.setDatasetOptimized)({index:e,optimized:n}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),St=function(t,e){console.log("Remove index",t,y.data.datasets),a.default.yAxisUseCounter()[y.data.datasets[t].yAxisID]--,a.default.colorStack().push(y.data.datasets[t].backgroundColor),e&&void 0!==e||F.push({action:c.StackAction.REMOVE_PV,pv:y.data.datasets[t].label,optimized:y.data.datasets[t].pv.optimized});var n=y.data.datasets[t].yAxisID,i=null;if(0===a.default.yAxisUseCounter()[n]){console.log("Removing Axis"),delete a.default.yAxisUseCounter()[n],y.scales[n].options.display=!1,a.default.updateAxisPositionLeft("left"===y.scales[n].position),delete y.scales[n];for(var r=1;r<y.options.scales.yAxes.length;r++)if(y.options.scales.yAxes[r].id===n){y.options.scales.yAxes.splice(r,1),i=n;break}}y.data.datasets.splice(t,1),y.update(0),vt(),it(),u.default.dispatch((0,s.removeDataset)({idx:t,removeAxis:i}))};e.toggleAxisType=function(t){return a.default.toggleAxisType(y,t)};e.toggleAutoY=function(t){return a.default.toggleAutoY(y,t)};e.hideDataset=function(t){return(0,a.hideDatasetByLabel)(t,y)};var jt=function(){var t=h(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,a.getDatasetIndex)(e,y),t.next=3,At(i,n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();e.optimizeDataset=jt;e.removeDatasetByLabel=function(t){return St((0,a.getDatasetIndex)(t,y))};var Tt={references:x,chart:function(){return y},start:function(){return g},end:function(){return v},reference:function(){return T},windowTime:function(){return w},isAutoUpdateEnabled:R,singleTipEnabled:z,scrollingEnabled:function(){return N},serverDateEnabled:function(){return P},dragFlags:function(){return L},zoomFlags:function(){return C},undoStack:function(){return F},redoStack:function(){return V},getWindowTime:function(){return w},getDateNow:yt,updateTimeWindow:function(t){return B.apply(this,arguments)},updateTimeWindowOnly:D,updateStartTime:function(t){b(t)},updateEndTime:function(t){A(t)},updateTimeReference:k,updateStartAndEnd:et,toggleSingleTip:function(){I(!z()),d.default.setCookie("singleTip",z()),a.default.toggleTooltipBehavior(y,z())},disableServerDate:function(){P=!1},disableScrolling:function(){N=!1},enableScrolling:function(){N=!0},startDrag:function(){L.dragStarted=!0},stopDrag:function(){L.dragStarted=!1},updateDragEndTime:function(t){L.endTime=t},updateDragOffsetX:function(t){L.x=t},enableZoom:function(){C.isZooming=!0,u.default.dispatch((0,s.setZooming)(!0))},disableZoom:function(){C.isZooming=!1,u.default.dispatch((0,s.setZooming)(!1))},init:function(t){var e;y=t,G(),I("true"===(e=d.default.getCookie("singleTip"))||null==e),a.default.toggleTooltipBehavior(y,M)},enableLoading:S,disableLoading:j,toggleAutoUpdate:function(t){return E.toggle()},appendPV:function(t,e,n){return J.apply(this,arguments)},shouldOptimizeRequest:K,updateOptimizedWarning:it,improveData:rt,updatePlot:ut,optimizeAllGraphs:lt,updateAllPlots:ht,getPlotIndex:function(t){for(var e=0;e<y.data.datasets.length;e++)if(y.data.datasets[e].label===t||y.data.datasets[e].label===decodeURIComponent(t))return e;return null},updateURL:vt,removeDataset:St,hideAxis:function(t){a.default.hidesAxis(y.getDatasetMeta(t.data.datasetIndex),y),y.update(0,!1)},optimizeHandler:function(){var t=h(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(e.data.datasetIndex,this.checked);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),setStart:b,setEnd:A,getNewTimeWindow:function(){for(var t=v.getTime(),e=g.getTime(),n=a.default.timeIDs.SEG_30,i=function(i){return t-e<(r=i,a.default.timeAxisPreferences[r].milliseconds)&&i<n;var r},r=0;i(r);)r++;return r}};e.default=Tt},8:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"doRemoveDataAxis",(function(){return s})),n.d(i,"addToDataAxis",(function(){return u})),n.d(i,"setAxisYLimitMin",(function(){return c})),n.d(i,"setAxisYLimitMax",(function(){return l})),n.d(i,"setAxisYLimitManual",(function(){return d})),n.d(i,"setAxisTypeLog",(function(){return f})),n.d(i,"addToDataset",(function(){return m})),n.d(i,"clearDatasetFetching",(function(){return h})),n.d(i,"setDatasetFetching",(function(){return g})),n.d(i,"setDatasetVisible",(function(){return v})),n.d(i,"setDatasetOptimized",(function(){return x})),n.d(i,"removeDataset",(function(){return y})),n.d(i,"addActionToStack",(function(){return b})),n.d(i,"setLoading",(function(){return A})),n.d(i,"setWindowTime",(function(){return S})),n.d(i,"setAutoScroll",(function(){return j})),n.d(i,"setZooming",(function(){return T})),n.d(i,"setSingleTooltip",(function(){return w})),n.d(i,"setTimeReferenceEnd",(function(){return D})),n.d(i,"setTimeStart",(function(){return E})),n.d(i,"setTimeEnd",(function(){return R}));var r=n(9),a={actionsStack:[],autoScroll:!1,dataAxis:[],datasets:[],loading:!1,singleTooltip:!0,timeEnd:null,timeReferenceEnd:!0,timeStart:null,windowTime:n(20).TIME_IDS.MIN_30,zooming:!1},o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n=null;t.dataAxis.forEach((function(t,i){t.id===e.payload&&(n=i)})),null!==n&&t.dataAxis.splice(n,1)}var u={reducer:function(t,e){t.dataAxis.push(e.payload)},prepare:function(t){return{payload:o(o({},t),{isLog:"linear"!==t.type,yLimitManual:!1,yMax:null,yMin:null})}}};function c(t,e){var n=e.payload,i=n.id,r=n.yMin;t.dataAxis.forEach((function(t){t.id===i&&(t.yMin=r)}))}function l(t,e){var n=e.payload,i=n.id,r=n.yMax;t.dataAxis.forEach((function(t){t.id===i&&(t.yMax=r)}))}function d(t,e){var n=e.payload,i=n.id,r=n.yLimitManual;t.dataAxis.forEach((function(t){t.id===i&&(t.yLimitManual=r)}))}function f(t,e){var n=e.payload,i=n.id,r=n.isLog;t.dataAxis.forEach((function(t){t.id===i&&(t.isLog=r,t.type=r?"logarithmic":"linear")}))}var p,m={reducer:function(t,e){t.datasets.push(e.payload)},prepare:function(t){return{payload:o({fetching:!1,fetchTime:null},t)}}};function h(t,e){var n=e.payload.idx;n>t.datasets.length?console.warn("Invalid dataset index "+n):(t.datasets[n].fetching=!1,t.datasets[n].fetchTime=null)}function g(t,e){var n=e.payload,i=n.idx,r=n.time;i>t.datasets.length?console.warn("Invalid dataset index "+i):(t.datasets[i].fetching=!0,t.datasets[i].fetchTime=r.getTime())}function v(t,e){var n=e.payload,i=n.index,r=n.visible;t.datasets[i].visible=r}function x(t,e){var n=e.payload,i=n.index,r=n.optimized;t.datasets[i].pv.optimized=r}function y(t,e){var n=e.payload,i=n.idx,r=n.removeAxis;if(t.datasets.splice(i,1),null!==r){var a=null;t.dataAxis.forEach((function(t,e){t.id===r&&(a=e)})),null!==a&&t.dataAxis.splice(a,1)}}function b(t,e){t.actionsStack.push(e.payload)}function A(t,e){t.loading=e.payload}function S(t,e){t.windowTime=e.payload}function j(t,e){t.autoScroll=e.payload}function T(t,e){t.zooming=e.payload}function w(t,e){t.singleTooltip=e.payload}function D(t,e){t.timeReferenceEnd=e.payload}function E(t,e){t.timeStart=e.payload}function R(t,e){t.timeEnd=e.payload}n.d(e,"addActionToStack",(function(){return O})),n.d(e,"addToDataAxis",(function(){return k})),n.d(e,"addToDataset",(function(){return M})),n.d(e,"clearDatasetFetching",(function(){return z})),n.d(e,"doRemoveDataAxis",(function(){return I})),n.d(e,"removeDataset",(function(){return N})),n.d(e,"setAutoScroll",(function(){return P})),n.d(e,"setAxisTypeLog",(function(){return U})),n.d(e,"setAxisYLimitManual",(function(){return H})),n.d(e,"setAxisYLimitMax",(function(){return L})),n.d(e,"setAxisYLimitMin",(function(){return C})),n.d(e,"setDatasetFetching",(function(){return F})),n.d(e,"setDatasetOptimized",(function(){return V})),n.d(e,"setDatasetVisible",(function(){return W})),n.d(e,"setLoading",(function(){return Y})),n.d(e,"setSingleTooltip",(function(){return G})),n.d(e,"setTimeEnd",(function(){return B})),n.d(e,"setTimeReferenceEnd",(function(){return q})),n.d(e,"setTimeStart",(function(){return Z})),n.d(e,"setWindowTime",(function(){return J})),n.d(e,"setZooming",(function(){return K})),n.d(e,"actions",(function(){return X}));var _=Object(r.b)({name:"chart",initialState:a,reducers:i}),O=(p=_.actions).addActionToStack,k=p.addToDataAxis,M=p.addToDataset,z=p.clearDatasetFetching,I=p.doRemoveDataAxis,N=p.removeDataset,P=p.setAutoScroll,U=p.setAxisTypeLog,H=p.setAxisYLimitManual,L=p.setAxisYLimitMax,C=p.setAxisYLimitMin,F=p.setDatasetFetching,V=p.setDatasetOptimized,W=p.setDatasetVisible,Y=p.setLoading,G=p.setSingleTooltip,B=p.setTimeEnd,q=p.setTimeReferenceEnd,Z=p.setTimeStart,J=p.setWindowTime,K=p.setZooming,X=_.actions;e.default=_.reducer}});