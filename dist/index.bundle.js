!function(e){function t(t){for(var a,i,l=t[0],s=t[1],u=t[2],c=0,f=[];c<l.length;c++)i=l[c],r[i]&&f.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;o.push([335,1]),n()}({122:function(e,t,n){"use strict";n(41),n(48),n(49),n(408),n(29),n(110),n(320),n(321),n(28),n(116),n(44),n(36),n(42),n(113),n(78),n(43),n(322),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(120);var a,r=(a=n(410))&&a.__esModule?a:{default:a};function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){l(o,a,r,i,s,"next",e)}function s(e){l(o,a,r,i,s,"throw",e)}i(void 0)}))}}var u=function(){var e=function(){var e="10.0.38.42";if("vpn.cnpem.br"===window.location.host){var t=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//.exec(window.location.href);t&&t.length>1&&(e=t[1])}else e=window.location.host;return"10.0.38.50"===e&&(e="10.0.38.42",console.log("DEBUG SERVER. Setting host to 10.0.38.42")),e}(),t=window.location.protocol+"//"+e+"/archiver-generic-backend",n=window.location.protocol+"//"+e+"/retrieval/data/getData.json",a=[window.location.protocol+"//"+e,"http://archiver.cnpem.br","http://10.0.38.42"];function i(){return(i=s(regeneratorRuntime.mark((function e(t,n){var r,i,l,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",null);case 2:r=null,i=0,l=[],s=o(a),e.prev=6,d=regeneratorRuntime.mark((function e(){var n,a,o,s,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.value,null==r){e.next=3;break}return e.abrupt("return","break");case 3:return o=(a=n+"/retrieval/bpl/getMetadata?pv="+t).split("?"),s=a.length>2048?"POST":"GET",d={jqXHR:null,textStatus:null,errorThrown:null},console.log("Search appliance",n,"for PV",t),e.prev=8,e.next=11,$.ajax({url:o[0],data:o[1],type:s,crossDomain:!0,dataType:"json",timeout:0}).fail((function(e,t,n){i++,d.jqXHR=e,d.textStatus=t,d.errorThrown=n,l.push(d)})).done((function(e,t,n){r=200===n.status?e:null}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),i++;case 16:case"end":return e.stop()}}),e,null,[[8,13]])})),s.s();case 9:if((u=s.n()).done){e.next=16;break}return e.delegateYield(d(),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",16);case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(6),s.e(e.t1);case 21:return e.prev=21,s.f(),e.finish(21);case 24:return i==a.length&&(n&&l.length>0?n(l[0].jqXHR,l[0].textStatus,l[0].errorThrown):console.log("Failed to fetch metadadata for pv",t,"last errors",l)),e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})))).apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t,a,r,o,i,l,s){var u,d,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a&&void 0!==r){e.next=2;break}return e.abrupt("return",null);case 2:return u=o?n+"?pv=optimized_"+i+"("+t+")&from="+a.toJSON()+"&to="+r.toJSON():n+"?pv="+t+"&from="+a.toJSON()+"&to="+r.toJSON(),d=u.split("?"),c=u.length>2048?"POST":"GET",f=null,e.next=8,$.ajax({url:d[0],data:d[1],type:c,crossDomain:!0,dataType:"text",beforeSend:s,timeout:0}).done((function(e,t,n){if(f="success"===t?e:null)try{f=(f=f.replace(/(-?Infinity)/g,'"$1"')).replace(/(NaN)/g,'"$1"'),f=JSON.parse(f)}catch(e){console.log("Failed to parse data from request",d[0],e.message)}})).fail((function(e,t,n){l(e,t,n)}));case 8:return e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{url:function(){return e},updateURL:function(t){e=t},bypassUrl:function(){return t},parseData:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],i=0;i<e.length;i++){var l=new Date(1e3*e[i].secs+1e-6*e[i].nanos);isNaN(l.getTime())||o.push(t?{timedate:l,x:i,y:e[i].val.length>0?e[i].val[0]:e[i].val}:{x:l,y:e[i].val.length>0?e[i].val[0]:e[i].val})}if(t){for(var s=(0,r.default)(o,n,a),u=0;u<s.length;u++)s[u].x=s[u].timedate;return console.log(o.length,s.length),s}return o},fetchMetadata:function(e,t){return i.apply(this,arguments)},fetchData:function(e,t,n,a,r,o,i){return l.apply(this,arguments)},query:function(t,n,a,r,o){var i="http://"+e+"/retrieval/bpl/getMatchingPVs?pv="+t+"&limit=4000",l=i.split("?"),s=l.length>1?s=l[1]:"",u=i.length>2048?"POST":"GET";$.ajax({url:l[0],data:s,type:u,crossDomain:!0,dataType:"json",timeout:3e3,beforeSend:o,success:n,error:a,complete:r})}}}();t.default=u},126:function(e,t,n){var a=n(494);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(124)(a,r);a.locals&&(e.exports=a.locals)},319:function(e,t){},335:function(e,t,n){"use strict";n(44),n(337),n(78),n(339),n(340);var a=c(n(79)),r=c(n(66)),o=c(n(87)),i=c(n(122)),l=c(n(86));n(414);var s=c(n(8)),u=c(n(127)),d=c(n(421));function c(e){return e&&e.__esModule?e:{default:e}}u.default.render(s.default.createElement(d.default,null),document.getElementById("root")),$("#archiver_viewer").on("click",r.default.dataClickHandler),$("#archiver_viewer").mousedown(r.default.startDragging),$("#archiver_viewer").mousemove(r.default.doDragging),$("#archiver_viewer").mouseup(r.default.stopDragging),$("#plotSelected").on("click",r.default.plotSelectedPVs),$("#selectAll").on("click",l.default.selectedAllPVs),$("#deselectAll").on("click",l.default.deselectedAllPVs),$("#close").on("click",l.default.hideSearchedPVs),$(document).ready((function(){var e={showLine:!0,spanGaps:!0,responsiveAnimationDuration:0,responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{point:{hoverRadius:0},line:{tension:0}},tooltips:{mode:"nearest",axis:"x",intersect:!1,custom:r.default.tooltipColorHandler,cornerRadius:5,caretSize:0,yAlign:"no-transform",xAlign:"no-transform",position:"cursor",callbacks:{label:a.default.labelCallback,beforeBody:r.default.bodyCallback}},hover:{mode:"nearest",position:"nearest",intersect:!1,animationDuration:0},title:{display:!1},scales:{B:{display:!1,min:0,max:10},xAxes:[{offset:!0,id:a.default.timeAxisID,type:"time",distribution:"linear",time:{unit:"minute",unitStepSize:5,displayFormats:{second:"HH:mm:ss",minute:"HH:mm",hour:"HH:ss",day:"MMM D hh:mm",month:"MMM YYYY"},tooltipFormat:"ddd MMM DD YYYY HH:mm:ss.S ZZ"},ticks:{source:"auto",autoSkip:!0,autoSkipPadding:5,maxRotation:0,minRotation:0,stepSize:1}}],yAxes:[{type:"linear",display:!1,position:"left",id:"y-axis-0"}]},legend:{display:!1,onClick:a.default.legendCallback}};o.default.init(new Chart($("#archiver_viewer"),{type:"line",data:[],options:e})),$("#home").attr("href",i.default.url().split(":")[0]+":"+i.default.url().split(":")[1]),l.default.hideWarning(),l.default.hideSearchWarning(),o.default.loadFromURL(window.location.search)}))},342:function(e,t,n){var a={"./af":151,"./af.js":151,"./ar":152,"./ar-dz":153,"./ar-dz.js":153,"./ar-kw":154,"./ar-kw.js":154,"./ar-ly":155,"./ar-ly.js":155,"./ar-ma":156,"./ar-ma.js":156,"./ar-sa":157,"./ar-sa.js":157,"./ar-tn":158,"./ar-tn.js":158,"./ar.js":152,"./az":159,"./az.js":159,"./be":160,"./be.js":160,"./bg":161,"./bg.js":161,"./bm":162,"./bm.js":162,"./bn":163,"./bn-bd":164,"./bn-bd.js":164,"./bn.js":163,"./bo":165,"./bo.js":165,"./br":166,"./br.js":166,"./bs":167,"./bs.js":167,"./ca":168,"./ca.js":168,"./cs":169,"./cs.js":169,"./cv":170,"./cv.js":170,"./cy":171,"./cy.js":171,"./da":172,"./da.js":172,"./de":173,"./de-at":174,"./de-at.js":174,"./de-ch":175,"./de-ch.js":175,"./de.js":173,"./dv":176,"./dv.js":176,"./el":177,"./el.js":177,"./en-au":178,"./en-au.js":178,"./en-ca":179,"./en-ca.js":179,"./en-gb":180,"./en-gb.js":180,"./en-ie":181,"./en-ie.js":181,"./en-il":182,"./en-il.js":182,"./en-in":183,"./en-in.js":183,"./en-nz":184,"./en-nz.js":184,"./en-sg":185,"./en-sg.js":185,"./eo":186,"./eo.js":186,"./es":187,"./es-do":188,"./es-do.js":188,"./es-mx":189,"./es-mx.js":189,"./es-us":190,"./es-us.js":190,"./es.js":187,"./et":191,"./et.js":191,"./eu":192,"./eu.js":192,"./fa":193,"./fa.js":193,"./fi":194,"./fi.js":194,"./fil":195,"./fil.js":195,"./fo":196,"./fo.js":196,"./fr":197,"./fr-ca":198,"./fr-ca.js":198,"./fr-ch":199,"./fr-ch.js":199,"./fr.js":197,"./fy":200,"./fy.js":200,"./ga":201,"./ga.js":201,"./gd":202,"./gd.js":202,"./gl":203,"./gl.js":203,"./gom-deva":204,"./gom-deva.js":204,"./gom-latn":205,"./gom-latn.js":205,"./gu":206,"./gu.js":206,"./he":207,"./he.js":207,"./hi":208,"./hi.js":208,"./hr":209,"./hr.js":209,"./hu":210,"./hu.js":210,"./hy-am":211,"./hy-am.js":211,"./id":212,"./id.js":212,"./is":213,"./is.js":213,"./it":214,"./it-ch":215,"./it-ch.js":215,"./it.js":214,"./ja":216,"./ja.js":216,"./jv":217,"./jv.js":217,"./ka":218,"./ka.js":218,"./kk":219,"./kk.js":219,"./km":220,"./km.js":220,"./kn":221,"./kn.js":221,"./ko":222,"./ko.js":222,"./ku":223,"./ku.js":223,"./ky":224,"./ky.js":224,"./lb":225,"./lb.js":225,"./lo":226,"./lo.js":226,"./lt":227,"./lt.js":227,"./lv":228,"./lv.js":228,"./me":229,"./me.js":229,"./mi":230,"./mi.js":230,"./mk":231,"./mk.js":231,"./ml":232,"./ml.js":232,"./mn":233,"./mn.js":233,"./mr":234,"./mr.js":234,"./ms":235,"./ms-my":236,"./ms-my.js":236,"./ms.js":235,"./mt":237,"./mt.js":237,"./my":238,"./my.js":238,"./nb":239,"./nb.js":239,"./ne":240,"./ne.js":240,"./nl":241,"./nl-be":242,"./nl-be.js":242,"./nl.js":241,"./nn":243,"./nn.js":243,"./oc-lnc":244,"./oc-lnc.js":244,"./pa-in":245,"./pa-in.js":245,"./pl":246,"./pl.js":246,"./pt":247,"./pt-br":248,"./pt-br.js":248,"./pt.js":247,"./ro":249,"./ro.js":249,"./ru":250,"./ru.js":250,"./sd":251,"./sd.js":251,"./se":252,"./se.js":252,"./si":253,"./si.js":253,"./sk":254,"./sk.js":254,"./sl":255,"./sl.js":255,"./sq":256,"./sq.js":256,"./sr":257,"./sr-cyrl":258,"./sr-cyrl.js":258,"./sr.js":257,"./ss":259,"./ss.js":259,"./sv":260,"./sv.js":260,"./sw":261,"./sw.js":261,"./ta":262,"./ta.js":262,"./te":263,"./te.js":263,"./tet":264,"./tet.js":264,"./tg":265,"./tg.js":265,"./th":266,"./th.js":266,"./tk":267,"./tk.js":267,"./tl-ph":268,"./tl-ph.js":268,"./tlh":269,"./tlh.js":269,"./tr":270,"./tr.js":270,"./tzl":271,"./tzl.js":271,"./tzm":272,"./tzm-latn":273,"./tzm-latn.js":273,"./tzm.js":272,"./ug-cn":274,"./ug-cn.js":274,"./uk":275,"./uk.js":275,"./ur":276,"./ur.js":276,"./uz":277,"./uz-latn":278,"./uz-latn.js":278,"./uz.js":277,"./vi":279,"./vi.js":279,"./x-pseudo":280,"./x-pseudo.js":280,"./yo":281,"./yo.js":281,"./zh-cn":282,"./zh-cn.js":282,"./zh-hk":283,"./zh-hk.js":283,"./zh-mo":284,"./zh-mo.js":284,"./zh-tw":285,"./zh-tw.js":285};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=342},404:function(e,t){},405:function(e,t){},414:function(e,t,n){var a=n(415);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(124)(a,r);a.locals&&(e.exports=a.locals)},415:function(e,t,n){(e.exports=n(123)(!1)).push([e.i,'body {\n  font-family: Arial;\n  text-align: center; }\n\nbutton {\n  cursor: pointer;\n  background-color: grey;\n  border: none;\n  color: white;\n  padding: 8px 10px 8px 10px;\n  font-size: 12px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  font-family: Arial;\n  text-align: center; }\n\nbutton:hover {\n  box-shadow: 0 12px 16px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19); }\n\nselect {\n  border: 1px solid #ddd;\n  background-color: grey;\n  color: white;\n  text-align: center;\n  padding: 8px 10px 8px 10px; }\n\n.dataset-info {\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  padding: 10px; }\n\n.dataset-info .color-picker {\n  margin: 0 10 0 0; }\n\n.dataset-info .color-picker input[type="color"] {\n  border: none;\n  opacity: 0;\n  width: 20px;\n  height: 20px;\n  margin: 0px; }\n\n.dataset-info button {\n  font-family: Arial;\n  text-align: center;\n  font-size: 12px;\n  font-weight: bold; }\n\n.dataset-info button[name="remove"] {\n  background-color: red; }\n\n/* Customize the label (the container) */\n.container {\n  display: inline;\n  position: relative;\n  padding-left: 30px;\n  cursor: pointer;\n  font-size: 12px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  margin: 10px 0px 10px 0px; }\n\n/* Hide the browser\'s default checkbox */\n.container input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0; }\n\n/* Create a custom checkbox */\n.checkmark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  background-color: #eee; }\n\n/* On mouse-over, add a grey background color */\n.container:hover input ~ .checkmark {\n  background-color: #ccc; }\n\n/* When the checkbox is checked, add a blue background */\n.container input:checked ~ .checkmark {\n  background-color: grey; }\n\n/* Create the checkmark/indicator (hidden when not checked) */\n.checkmark:after {\n  content: "";\n  position: absolute;\n  display: none; }\n\n/* Show the checkmark when checked */\n.container input:checked ~ .checkmark:after {\n  display: block; }\n\n/* Style the checkmark/indicator */\n.container .checkmark:after {\n  left: 9px;\n  top: 5px;\n  width: 5px;\n  height: 10px;\n  border: solid white;\n  border-width: 0 3px 3px 0;\n  -webkit-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg); }\n\n#header {\n  position: relative;\n  height: 100px;\n  width: 90%;\n  margin-top: 25px;\n  margin-left: 5%; }\n\n#header_title {\n  position: relative; }\n\n#header_title img {\n  height: 15px;\n  width: 20px; }\n\n.header_logo {\n  height: 50px;\n  float: right; }\n\n.header_logo img {\n  max-width: 100%;\n  max-height: 100%; }\n\n#warning {\n  padding: 10px 0 10px 0;\n  margin: 0 50 0 50;\n  top: 23px;\n  font-size: 14px;\n  border-width: 0px;\n  border-style: solid;\n  border-color: rgba(255, 0, 0, 0.3);\n  border-radius: 5px;\n  background-color: rgba(255, 0, 0, 0.3); }\n\n#warning h4 {\n  margin: 0;\n  margin-left: 20px;\n  margin-right: 20px; }\n\n#canvas_area {\n  position: relative;\n  top: 10px;\n  width: 95%;\n  height: 65%;\n  padding-left: 2.5%; }\n\n#date {\n  position: relative;\n  font-size: 14px;\n  font-weight: bold;\n  color: #666;\n  margin: 0 0 0 5px;\n  left: 15%;\n  top: 5px;\n  height: 35px;\n  width: 70%; }\n\n#date input, select {\n  font-size: 14px;\n  height: 35px; }\n\n#date input.date {\n  width: 150px; }\n\n#date input.hh {\n  width: 35px; }\n\n#date span {\n  margin: 0 2px 0 2px;\n  padding: 9px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  cursor: pointer; }\n\n#date span:not(.disabled):hover {\n  background-color: lightgray !important; }\n\n#date img {\n  position: relative;\n  height: 80%;\n  top: 20%;\n  margin: 0 5px 0 5px;\n  cursor: pointer; }\n\n#date img.loading {\n  /* background: url("../img/loading.gif") repeat 0 0; */\n  top: 5px;\n  height: 20px;\n  margin: 0 5px 0 5px;\n  display: none;\n  cursor: auto; }\n\n#date img.export {\n  float: right; }\n\n#date img.export:hover {\n  box-shadow: 0 12px 16px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19); }\n\n#window_size {\n  /*   margin: 15px 25px 5px 25px;*/\n  height: 25px;\n  position: relative;\n  width: 75%;\n  margin-left: auto;\n  margin-right: auto; }\n\n#window_size table {\n  width: 100%;\n  height: 100%; }\n\n.line-separator {\n  height: 1px;\n  background: #FFFFFF;\n  border-bottom: 1px solid #313030; }\n\n#window_size table tr td {\n  padding: 5px 5px 5px 5px;\n  font-size: 12px;\n  text-align: center;\n  width: auto;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  color: #666;\n  cursor: pointer; }\n\n#window_size table tr td.unpushed {\n  background-color: grey;\n  color: white; }\n\n#window_size table tr td:hover {\n  box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19); }\n\n#window_size table tr td.pushed {\n  background-color: lightgray;\n  color: black; }\n\n#archived_PVs {\n  position: fixed;\n  background-color: white;\n  display: none;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 5px;\n  border-color: lightgrey;\n  top: 50px;\n  left: 7.5%;\n  width: 85%; }\n\n#archived_PVs_header {\n  background-color: lightgrey;\n  height: 50px; }\n\n#archived_PVs_header h2 {\n  margin: 0;\n  padding: 15px 0 15px 15px;\n  font-size: 14px;\n  font-weight: bold;\n  width: 75%;\n  display: inline; }\n\n#archived_PVs_header button {\n  font-weight: bold;\n  position: relative;\n  display: inline;\n  margin: 10px;\n  background-color: #008CBA;\n  border: none;\n  color: white;\n  padding: 5px 15px;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n  height: 30px; }\n\n#archived_PVs_header button.selectAll {\n  background-color: green; }\n\n#archived_PVs_header button.deselectAll {\n  background-color: #f44336; }\n\n#archived_PVs table {\n  width: 100%; }\n\n.footer-box:last-child {\n  margin-right: 30px; }\n\n.footer-box-wrapper {\n  display: block; }\n\n.footer-box {\n  display: inline-block;\n  width: 138px; }\n\n.footer-input {\n  width: 150px;\n  height: 35px; }\n\n#archived_PVs table tr td {\n  padding: 15px 5px 15px 5px;\n  height: 50px;\n  font-size: 14px; }\n\n#archived_PVs table tr td label {\n  position: relative;\n  top: -2px; }\n\n#archived_PVs span.change {\n  position: relative;\n  height: 20px;\n  width: 20px;\n  margin: 0 2px 5px 2px;\n  padding: 2px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  border-radius: 5px;\n  text-align: center;\n  cursor: pointer;\n  float: right;\n  right: 50%; }\n\n#archived_PVs span.change:hover {\n  background-color: lightgray; }\n\n#data_table_area {\n  position: relative;\n  width: 95%;\n  margin-top: 45px;\n  padding-left: 2.5%;\n  font-size: 14px;\n  font-weight: bold; }\n\n#data_table_area .data_table {\n  font-size: 14px;\n  display: none;\n  border-width: 2px;\n  border-style: solid;\n  border-color: lightgrey; }\n\n#data_table_area .data_table tr td {\n  padding: 5px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey; }\n\n#data_table_area .data_table tr td.pvTime {\n  background-color: lightgrey;\n  font-weight: bold; }\n\n#data_table_area h2 {\n  margin-top: 20px;\n  margin-bottom: 0px;\n  padding: 15px 0 15px 15px;\n  background-color: lightgrey;\n  font-size: 14px;\n  font-weight: bold; }\n\n#obs {\n  margin: 0 0 10 0;\n  position: relative;\n  padding: 10px 0 10px 0;\n  font-size: 14px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  border-radius: 5px;\n  left: 15%;\n  width: 70%;\n  top: 20px;\n  background-color: lightblue; }\n\n#obs h4 {\n  padding: 0;\n  margin: 0;\n  margin-left: 25px; }\n\n#canvas_area span.selection_box {\n  display: none;\n  position: absolute;\n  background: lightblue;\n  border-color: blue;\n  border-width: 1px;\n  border-style: solid;\n  opacity: 0.3;\n  pointer-events: none; }\n\n#data_pv_info {\n  position: relative;\n  width: 95%;\n  margin-top: 15px;\n  padding-left: 2.5%; }\n\n#data_pv_info tr td {\n  padding: 5px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  font-size: 12px;\n  color: #666;\n  font-weight: bold; }\n\n#data_pv_info tr td label {\n  position: relative;\n  top: -3px; }\n\n#data_axis {\n  position: relative;\n  width: 95%;\n  margin-top: 15px;\n  padding-left: 2.5%; }\n\n#data_axis tr td {\n  padding: 5px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: lightgrey;\n  font-size: 12px;\n  color: #666;\n  font-weight: bold; }\n\n#data_axis tr td label {\n  position: relative;\n  top: -3px; }\n\n/* Tooltip container */\n.tooltip {\n  position: relative;\n  display: inline-block;\n  border-bottom: 1px dotted black;\n  /* If you want dots under the hoverable text */ }\n\n/* Tooltip text */\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 120px;\n  background-color: #555;\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  border-radius: 6px;\n  /* Position the tooltip text */\n  position: absolute;\n  z-index: 1;\n  bottom: 125%;\n  left: 50%;\n  margin-left: -60px;\n  /* Fade in tooltip */\n  opacity: 0;\n  transition: opacity 0.3s; }\n\n/* Tooltip arrow */\n.tooltip .tooltiptext::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: #555 transparent transparent transparent; }\n\n/* Show the tooltip text when you mouse over the tooltip container */\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n  opacity: 1; }\n\n.lds-ellipsis {\n  display: none;\n  position: absolute;\n  bottom: 90px;\n  text-align: center;\n  position: relative;\n  width: 80px;\n  height: 80px; }\n\n.lds-ellipsis div {\n  position: absolute;\n  top: 33px;\n  width: 13px;\n  height: 13px;\n  border-radius: 50%;\n  background: #0099ff;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\n\n.lds-ellipsis div:nth-child(1) {\n  left: 8px;\n  animation: lds-ellipsis1 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(2) {\n  left: 8px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(3) {\n  left: 32px;\n  animation: lds-ellipsis2 0.6s infinite; }\n\n.lds-ellipsis div:nth-child(4) {\n  left: 56px;\n  animation: lds-ellipsis3 0.6s infinite; }\n\n@keyframes lds-ellipsis1 {\n  0% {\n    transform: scale(0); }\n  100% {\n    transform: scale(1); } }\n\n@keyframes lds-ellipsis3 {\n  0% {\n    transform: scale(1); }\n  100% {\n    transform: scale(0); } }\n\n@keyframes lds-ellipsis2 {\n  0% {\n    transform: translate(0, 0); }\n  100% {\n    transform: translate(24px, 0); } }\n',""])},421:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),r=u(n(423)),o=u(n(499)),i=u(n(66)),l=u(n(86)),s=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,u,d=h(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),x(g(t=d.call(this,e)),"handleUpdateWindowTime",(function(e){i.default.updateTimeWindow(e),t.setState({windowTime:s.default.getWindowTime()})})),x(g(t),"handleScrollChart",(function(e){i.default.scrollChart(e),t.setState({windowTime:s.default.getWindowTime()})})),t.state={windowTime:s.default.getWindowTime()},t}return t=c,(n=[{key:"render",value:function(){return a.default.createElement("div",{onClick:l.default.hideSearchedPVs},a.default.createElement(r.default,{handlers:{handleScrollChart:this.handleScrollChart,handleUpdateWindowTime:this.handleUpdateWindowTime,handleWheel:this.handleScrollChart},data:{windowTime:this.state.windowTime}}),a.default.createElement(o.default,{handlers:{handleWheel:this.handleScrollChart}}))}}])&&f(t.prototype,n),u&&f(t,u),c}(a.Component);t.default=y},423:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),r=d(n(5)),o=d(n(426)),i=d(n(495)),l=d(n(496));n(126);var s=d(n(497)),u=d(n(498));function d(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){return a.default.createElement("span",{className:"header-logo"},a.default.createElement("a",null,a.default.createElement("img",{src:s.default}),a.default.createElement("img",{src:u.default})))}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=m(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e)}return t=u,(n=[{key:"render",value:function(){return a.default.createElement("div",{className:"main-bar"},a.default.createElement("span",null,a.default.createElement(l.default,{windowTime:this.props.data.windowTime,handleUpdateWindowTime:this.props.handlers.handleUpdateWindowTime,handleWheel:this.props.handlers.handleWheel,intervals:this.intervals}),a.default.createElement(i.default,null),a.default.createElement(o.default,null)),a.default.createElement("span",null,a.default.createElement(x,null)))}}])&&p(t.prototype,n),r&&p(t,r),u}(a.Component);y.propTypes={data:r.default.object.isRequired,handlers:r.default.object.isRequired};var v=y;t.default=v},426:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),r=d(n(5)),o=d(n(427)),i=n(488),l=n(491),s=d(n(66)),u=d(n(87));function d(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(492),n(126);var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,d=m(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),y(b(t=d.call(this,e)),"handleZoom",(function(e){s.default.zoomClickHandler(),t.setState({zoom:u.default.zoomFlags().isZooming})})),y(b(t),"handleAuto",(function(){s.default.autoRefreshingHandler(),t.setState({auto:u.default.autoEnabled(),zoom:u.default.zoomFlags().isZooming})})),y(b(t),"handleTooltip",(function(){s.default.singleTipHandler(),t.setState({singleTip:u.default.singleTipEnabled()})})),y(b(t),"handleDateChange",(function(e){s.default.onChangeDateHandler(e),t.setState({startDate:e})})),y(b(t),"handleTimeRefChange",(function(e){console.log(e.target.value),s.default.updateReferenceTime(e.target.value===t.END)})),t.state={zoom:!1,startDate:new Date,refTimeEnd:!0},t.END=0,t.START=1,t}return t=c,(n=[{key:"render",value:function(){return a.default.createElement("span",null,a.default.createElement("select",{onChange:this.handleTimeRefChange},a.default.createElement("option",{value:this.END},"End"),a.default.createElement("option",{value:this.START},"Start")),a.default.createElement(o.default,{title:"Start/end timestamp",showTimeSelect:!0,selected:this.state.startDate,onChange:this.handleDateChange,timeFormat:"HH:mm",timeCaption:"time",dateFormat:"dd/MM/yy h:mm aa",maxDate:new Date}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faBackward,title:"Backward",className:"header-controls",onClick:function(){s.default.backTimeWindow()}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faCircle,title:"Now",className:"header-controls",onClick:function(){s.default.updateEndNow()}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faForward,title:"Forward",className:"header-controls",onClick:function(){s.default.forwTimeWindow()}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faUndo,title:"Undo action",className:"header-controls",onClick:function(){return s.default.undoHandler()}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faRedo,title:"Redo action",className:"header-controls",onClick:function(){return s.default.redoHandler()}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faCarSide,title:"Auto scroll",onClick:this.handleAuto,className:this.state.auto?"header-controls active":"header-controls"}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faSearchPlus,title:"Zoom",onClick:this.handleZoom,className:this.state.zoom?"header-controls active":"header-controls"}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faFileExcel,title:"Export as xlsx",className:"header-controls",onClick:function(){s.default.exportAs("xlsx")}}),a.default.createElement(i.FontAwesomeIcon,{icon:l.faList,title:"Show all in tooltip",onClick:this.handleTooltip,className:this.state.singleTip?"header-controls active":"header-controls"}))}}])&&p(t.prototype,n),r&&p(t,r),c}(a.Component);v.propTypes={data:r.default.object.isRequired,handlers:r.default.object.isRequired};var w=v;t.default=w},494:function(e,t,n){(e.exports=n(123)(!1)).push([e.i,".main-bar span {\n  padding: 5px;\n  top: 0; }\n\n.main-bar * {\n  vertical-align: middle; }\n\n.react-datepicker__tab-loop {\n  display: inline-block; }\n\n.time-button {\n  font-size: 16px;\n  text-align: center;\n  width: auto;\n  color: #FFF;\n  cursor: pointer; }\n\n.time-button:hover {\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.1); }\n\n.time-button.pushed {\n  background-color: lightgray;\n  color: black; }\n\n.header-controls {\n  display: inline-block;\n  font-size: 16pt;\n  margin-left: 5px;\n  margin-right: 5px; }\n\n.header-controls:hover {\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 2px 2px 0 rgba(0, 0, 0, 0.2); }\n\n.header-controls.active {\n  color: lightgrey; }\n\n.header-logo img {\n  height: 35px; }\n\n.main-bar input {\n  height: 35px; }\n\n.main-bar .search-input {\n  margin-top: 2px; }\n\n.main-bar input:not(.search-input) {\n  margin-left: 5px; }\n",""])},495:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),o=(a=n(66))&&a.__esModule?a:{default:a};function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,a,i=d(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),h(f(t=i.call(this,e)),"handleChange",(function(e){t.setState({value:e.target.value})})),h(f(t),"handleSubmit",(function(e){o.default.queryPVsRetrieval(e,t.state.value)})),t.state={value:""},t}return t=l,(n=[{key:"render",value:function(){return r.default.createElement("input",{className:"search-input",type:"text",placeholder:"Search ...",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleSubmit})}}])&&s(t.prototype,n),a&&s(t,a),l}(r.Component);t.default=m},496:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(303),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),r=i(n(5)),o=i(n(79));function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(126);var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,r,i=c(l);function l(e){var t,n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=i.call(this,e),n=p(t),r=function(e){return e===t.props.windowTime?"time-button pushed":"time-button"},(a="renderButtonClass")in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,t}return t=l,(n=[{key:"render",value:function(){var e=this;return a.default.createElement("span",{onWheel:this.props.handleWheel},o.default.timeAxisPreferences.map((function(t,n){return a.default.createElement("button",{onClick:function(n){e.props.handleUpdateWindowTime(t.id)},key:n,className:e.renderButtonClass(t.id)},t.text)})))}}])&&u(t.prototype,n),r&&u(t,r),l}(a.Component);m.propTypes={windowTime:r.default.number.isRequired,handleUpdateWindowTime:r.default.func.isRequired,handleWheel:r.default.func.isRequired};var g=m;t.default=g},497:function(e,t,n){e.exports=n.p+"6b69597d9d5543312b9e8e21b1c09bc8.png"},498:function(e,t,n){e.exports=n.p+"8630900a7fc1ff349795fc9f0f1db1b7.png"},499:function(e,t,n){"use strict";n(41),n(48),n(49),n(29),n(47),n(57),n(58),n(28),n(59),n(36),n(42),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(8)),o=(a=n(5))&&a.__esModule?a:{default:a};function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,a,o=d(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){return r.default.createElement("div",{id:"canvas_area"},r.default.createElement("canvas",{id:"archiver_viewer",onWheel:this.props.handlers.handleWheel,width:"450",height:"450"}),r.default.createElement("span",{className:"selection_box"}))}}])&&s(t.prototype,n),a&&s(t,a),i}(r.Component);p.propTypes={data:o.default.object.isRequired,handlers:o.default.object.isRequired};var h=p;t.default=h},66:function(e,t,n){"use strict";n(41),n(348),n(290),n(349),n(29),n(303),n(352),n(353),n(355),n(356),n(47),n(357),n(358),n(359),n(28),n(116),n(364),n(365),n(44),n(36),n(366),n(42),n(113),n(369),n(374),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(296),n(43),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(120);var a=n(399),r=n(406),o=u(n(122)),i=u(n(86)),l=u(n(79)),s=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){p(o,a,r,i,l,"next",e)}function l(e){p(o,a,r,i,l,"throw",e)}i(void 0)}))}}var m=function(){function e(){return(e=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,s.default.updateStartAndEnd(n,!0);case 3:s.default.updateAllPlots(!0),s.default.updateURL(),l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.autoEnabled()){e.next=10;break}return s.default.reference()==s.default.references.START&&(s.default.updateTimeReference(s.default.references.END),i.default.enableReference(s.default.references.END)),e.next=4,s.default.getDateNow();case 4:return n=e.sent,e.next=7,s.default.updateStartAndEnd(n,!0);case 7:l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.updateAllPlots(!0),s.default.updateURL();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.autoEnabled()){e.next=8;break}return n=s.default.start(),s.default.reference()==s.default.references.END&&(n=s.default.end()),e.next=5,s.default.updateStartAndEnd(new Date(n.getTime()-l.default.timeAxisPreferences[s.default.windowTime()].milliseconds),!0);case 5:l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.updateAllPlots(!0),s.default.updateURL();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.autoEnabled()){e.next=9;break}return n=s.default.start(),s.default.reference()==s.default.references.END&&(n=s.default.end()),e.next=5,s.default.updateStartAndEnd(new Date(n.getTime()+l.default.timeAxisPreferences[s.default.windowTime()].milliseconds),!0);case 5:l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.updateAllPlots(!0),s.default.updateURL(),i.default.disableLoading();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){i.default.enableLoading()},f=function(e,t,n){i.default.toogleSearchWarning("An error occured on the server while disconnected PVs -- "+t+" -- "+n)},p=function(e){i.default.disableLoading()};function m(e){return g.apply(this,arguments)}function g(){return(g=h(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=t.map((function(e){return o.default.fetchMetadata(e)})),e.next=4,Promise.allSettled(a).then((function(e){e.forEach((function(e){if(e)if("fulfilled"==e.status)try{var t=e.value;if(null==t)return;if("false"!=t.paused)return void console.log("PV",t.pvName,"is paused.");if("true"!=t.scalar)return void console.log("PV",t.pvName," is not a scalar value.");n.push(t.pvName),console.log("Append pvName ",t.pvName)}catch(t){console.log("Failed to get metadata",t,e)}else console.log("Promisse not fulfilled",e);else console.log(e)}))})).finally((function(){console.log("Valid PVs: ",n.length)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return x.apply(this,arguments)}function x(){return(x=h(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,m(t).then((function(e){return e.forEach((function(e){return a.push(e)}))})).catch((function(e){return console.log("Failed handleGetValidPVs",e)}));case 3:i.default.showSearchResults(a,v);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13==t.which){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,o.default.query(n,b,f,p,d);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.target.innerText,n=s.default.getPlotIndex(t);null==n?s.default.appendPV(t):s.default.updatePlot(n),s.default.chart().update(0,!1),i.default.hideSearchedPVs()};function w(e,t){if(e-t[0]<=0)return 0;if(e-t[t.length-1]>=0)return t.length-1;for(var n,a=0,r=t.length-1;a<=r;){if(t[n=Math.floor((a+r)/2)]==e)return n;if(a==n)return a<e?a:a-1;t[n]>e?r=n-1:a=n+1}}function k(){return(k=h(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.default.autoEnabled()?($(this).css("background-color","grey"),clearInterval(s.default.timer()),i.default.enableDate(),i.default.enable($("#date span.now")),i.default.enable($("#date span.zoom")),i.default.enable($("#date span.forward")),i.default.enable($("#date span.backward")),$("#date img").css({cursor:"pointer"})):(s.default.startTimer(setInterval(h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.default.reference()==s.default.references.START&&(s.default.updateTimeReference(s.default.references.END),i.default.enableReference(s.default.references.END)),e.next=3,s.default.getDateNow();case 3:return t=e.sent,e.next=6,s.default.updateStartAndEnd(t,!0,!0);case 6:return l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.updateURL(),e.next=10,s.default.updateAllPlots(!1);case 10:case"end":return e.stop()}}),e)}))),5e3)),$(this).css("background-color","lightgrey"),i.default.disableDate(),i.default.disable($("#date span.now")),i.default.disable($("#date span.zoom")),i.default.disable($("#date span.forward")),i.default.disable($("#date span.backward")),$("#date img").css({cursor:"not-allowed"})),s.default.toggleAuto();case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function T(){return(T=h(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.dragFlags().dragStarted||s.default.autoEnabled()){e.next=11;break}if(!(null!=(n=s.default.chart().getElementsAtEvent(t))&&n.length>0)){e.next=11;break}return a=s.default.chart().data.datasets[n[0].DatasetIndex].data[n[0].Index].x,r=new Date(a.getTime()+l.default.timeAxisPreferences[s.default.windowTime()].milliseconds/2),e.next=7,s.default.updateStartAndEnd(r,!0);case 7:l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.updateAllPlots(!0),s.default.updateURL(),s.default.chart().update(0,!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=h(regeneratorRuntime.mark((function e(t){var n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.zoomFlags().isZooming||s.default.autoEnabled()||!s.default.dragFlags().dragStarted){e.next=10;break}return n=s.default.dragFlags().x-t.offsetX,a=new Date(s.default.end().getTime()+n*l.default.timeAxisPreferences[s.default.windowTime()].milliseconds/s.default.chart().chart.width),s.default.reference()==s.default.references.START&&(a=new Date(s.default.start().getTime()+n*l.default.timeAxisPreferences[s.default.windowTime()].milliseconds/s.default.chart().chart.width)),s.default.updateDragOffsetX(t.offsetX),e.next=7,s.default.updateStartAndEnd(a,!0,!0);case 7:l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.dragFlags().updateOnComplete||(s.default.updateAllPlots(!0),s.default.updateURL()),s.default.chart().update(0,!1);case 10:s.default.zoomFlags().isZooming&&s.default.zoomFlags().hasBegan&&(r=Math.min(s.default.zoomFlags().beginX,t.clientX),o=Math.abs(s.default.zoomFlags().beginX-t.clientX),i.default.drawZoomBox(r,o,s.default.chart().chart.height));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.dragFlags().dragStarted&&s.default.dragFlags().updateOnComplete&&(s.default.updateAllPlots(!0),s.default.updateURL(),s.default.chart().update(0,!1),s.default.undoStack().push({action:s.default.stackActions.CHANGE_END_TIME,endTime:s.default.dragFlags().endTime})),s.default.zoomFlags().isZooming&&s.default.zoomFlags().hasBegan&&(s.default.zoomFlags().time2=new Date(s.default.start().getTime()+t.offsetX*l.default.timeAxisPreferences[s.default.windowTime()].milliseconds/s.default.chart().chart.width),null!=s.default.zoomFlags().time1&&null!=s.default.zoomFlags().time2)){for(s.default.undoStack().push({action:s.default.stackActions.ZOOM,startTime:s.default.start(),endTime:s.default.end(),windowTime:s.default.windowTime()}),s.default.zoomFlags().time1.getTime()<s.default.zoomFlags().time2.getTime()?(s.default.updateStartTime(s.default.zoomFlags().time1),s.default.updateEndTime(s.default.zoomFlags().time2)):(s.default.updateStartTime(s.default.zoomFlags().time2),s.default.updateEndTime(s.default.zoomFlags().time1)),n=0;s.default.end().getTime()-s.default.start().getTime()<l.default.timeAxisPreferences[n].milliseconds&&n<l.default.timeIDs.SEG_30;)n++;s.default.updateTimeWindowOnly(n),i.default.hideZoomBox(),l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[n].unit,l.default.timeAxisPreferences[n].unitStepSize,s.default.start(),s.default.end()),s.default.optimizeAllGraphs(),s.default.updateAllPlots(!0),s.default.updateURL(),i.default.updateDateComponents(s.default.reference()==s.default.references.END?s.default.end():s.default.start()),s.default.chart().update(0,!1),s.default.updateOptimizedWarning(),i.default.toggleZoomButton(!1)}s.default.stopDrag(),s.default.zoomFlags().hasBegan=!1,s.default.disableZoom();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){if("undefined"!=typeof ArrayBuffer){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0;a!=e.length;++a)n[a]=255&e.charCodeAt(a);return t}for(var r=new Array(e.length),o=0;o!=e.length;++o)r[o]=255&e.charCodeAt(o);return r}function j(){return(j=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.default.undoStack().length>0)||s.default.autoEnabled()){e.next=34;break}t=s.default.undoStack().pop(),e.t0=t.action,e.next=e.t0===s.default.stackActions.REMOVE_PV?5:e.t0===s.default.stackActions.APPEND_PV?8:e.t0===s.default.stackActions.CHANGE_WINDOW_TIME?12:e.t0===s.default.stackActions.CHANGE_END_TIME?15:e.t0===s.default.stackActions.CHANGE_START_TIME?21:e.t0===s.default.stackActions.ZOOM?27:33;break;case 5:return s.default.redoStack().push({action:s.default.stackActions.REMOVE_PV,pv:t.pv}),s.default.appendPV(t.pv,t.optimized,!0),e.abrupt("break",33);case 8:return n=s.default.getPlotIndex(t.pv),s.default.redoStack().push({action:s.default.stackActions.APPEND_PV,pv:t.pv,optimized:s.default.chart().data.datasets[n].pv.optimized}),s.default.removeDataset(n,!0),e.abrupt("break",33);case 12:return s.default.redoStack().push({action:s.default.stackActions.CHANGE_WINDOW_TIME,window:s.default.windowTime()}),s.default.updateTimeWindow(t.window),e.abrupt("break",33);case 15:return s.default.redoStack().push({action:s.default.stackActions.CHANGE_END_TIME,endTime:s.default.end()}),s.default.updateTimeReference(s.default.references.END),e.next=19,s.default.updateStartAndEnd(t.endTime,!0,!0);case 19:return s.default.updateTimeWindow(s.default.windowTime()),e.abrupt("break",33);case 21:return s.default.redoStack().push({action:s.default.stackActions.CHANGE_START_TIME,startTime:s.default.start()}),s.default.updateTimeReference(s.default.references.START),e.next=25,s.default.updateStartAndEnd(t.startTime,!0,!0);case 25:return s.default.updateTimeWindow(s.default.windowTime()),e.abrupt("break",33);case 27:return s.default.redoStack().push({action:s.default.stackActions.ZOOM,startTime:s.default.start(),endTime:s.default.end(),windowTime:s.default.windowTime()}),e.next=30,s.default.updateStartAndEnd(t.endTime,!0,!0);case 30:return s.default.updateTimeWindow(t.windowTime),s.default.chart().update(0,!1),e.abrupt("break",33);case 33:s.default.chart().update(0,!1);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.default.redoStack().length>0)||s.default.autoEnabled()){e.next=43;break}t=s.default.redoStack().pop(),e.t0=t.action,e.next=e.t0===s.default.stackActions.REMOVE_PV?5:e.t0===s.default.stackActions.APPEND_PV?7:e.t0===s.default.stackActions.CHANGE_WINDOW_TIME?9:e.t0===s.default.stackActions.CHANGE_START_TIME?11:e.t0===s.default.stackActions.CHANGE_END_TIME?21:e.t0===s.default.stackActions.ZOOM?31:42;break;case 5:return s.default.removeDataset(s.default.getPlotIndex(t.pv)),e.abrupt("break",42);case 7:return s.default.appendPV(t.pv,t.optimized),e.abrupt("break",42);case 9:return s.default.updateTimeWindow(t.window),e.abrupt("break",42);case 11:return i.default.enableLoading(),s.default.updateTimeReference(s.default.references.START),e.next=15,s.default.updateStartAndEnd(t.startTime,!0);case 15:return s.default.updateAllPlots(!0),s.default.updateURL(),l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.chart().update(0,!1),i.default.disableLoading(),e.abrupt("break",42);case 21:return i.default.enableLoading(),s.default.updateTimeReference(s.default.references.END),e.next=25,s.default.updateStartAndEnd(t.endTime,!0);case 25:return s.default.updateAllPlots(!0),s.default.updateURL(),l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[s.default.windowTime()].unit,l.default.timeAxisPreferences[s.default.windowTime()].unitStepSize,s.default.start(),s.default.end()),s.default.chart().update(0,!1),i.default.disableLoading(),e.abrupt("break",42);case 31:return e.next=33,s.default.updateStartTime(t.startTime);case 33:return s.default.updateEndTime(t.endTime),l.default.updateTimeAxis(s.default.chart(),l.default.timeAxisPreferences[t.windowTime].unit,l.default.timeAxisPreferences[t.windowTime].unitStepSize,s.default.start(),s.default.end()),s.default.optimizeAllGraphs(),s.default.updateAllPlots(!0),s.default.updateURL(),i.default.updateDateComponents(s.default.end()),s.default.chart().update(0,!1),s.default.updateOptimizedWarning(),e.abrupt("break",42);case 42:s.default.chart().update(0,!1);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{handleFetchDataError:function(e,t,n){i.default.toogleSearchWarning("Connection failed with "+e+" -- "+t+" -- "+n)},bodyCallback:function(e,t){if(!s.default.singleTipEnabled()&&void 0!==e[0]){var n=e.map((function(e){return e.datasetIndex})),a=e[0].datasetIndex,r=e[0].xLabel.substring(0,23);e[0].backgroundColor=t.datasets[a].backgroundColor,e[0].borderColor=t.datasets[a].borderColor;for(var o=new Date(r),i=1,l=0;l<t.datasets.length;l++)if(l!=a){var u=w(o,t.datasets[l].data.map((function(e){return e.x})));if(void 0===t.datasets[l].data[u]||void 0===t.datasets[l].data[u])return"Loading datasets...";n.includes(l)?(e[i].yLabel=t.datasets[l].data[u].y,e[i].x=e[0].x,e[i].y=t.datasets[l].data[u].y,e[i].backgroundColor=t.datasets[l].backgroundColor,e[i].borderColor=t.datasets[l].borderColor,i++):e.push({datasetIndex:l,index:u,label:t.datasets[l].data[u].x.toString(),value:t.datasets[l].data[u].y.toString(),x:e[0].x,xLabel:e[0].xLabel,y:e[0].y,yLabel:1*t.datasets[l].data[u].y,backgroundColor:t.datasets[l].backgroundColor||"#fff",borderColor:t.datasets[l].borderColor||"#fff"})}e.sort((function(e,t){return e.datasetIndex-t.datasetIndex}))}},tooltipColorHandler:function(e){var t;if(null!=e.dataPoints&&!s.default.singleTipEnabled())for(e.labelColors=[],e.labelTextColors=[],t=0;t<e.dataPoints.length;t++)void 0!==e.dataPoints[t]&&(e.labelColors.push({backgroundColor:e.dataPoints[t].backgroundColor||"#fff",borderColor:e.dataPoints[t].borderColor||"#fff"}),e.labelTextColors.push("#fff"))},onChangeDateHandler:function(t){return e.apply(this,arguments)},updateTimeWindow:function(e){s.default.undoStack().push({action:s.default.stackActions.CHANGE_WINDOW_TIME,window:s.default.windowTime()}),s.default.updateTimeWindow(e)},updateEndNow:function(e){return t.apply(this,arguments)},backTimeWindow:function(e){return n.apply(this,arguments)},forwTimeWindow:function(e){return u.apply(this,arguments)},queryPVsRetrieval:function(e,t){return y.apply(this,arguments)},appendPVHandler:v,plotSelectedPVs:function(e){for(var t=i.default.selectedPVs(),n=0;n<t.length;n++){var a=s.default.getPlotIndex(t[n]);null==a?s.default.appendPV(t[n]):s.default.updatePlot(a)}i.default.hideSearchedPVs(),s.default.chart().update(0,!1),s.default.updateOptimizedWarning()},scrollChart:function(e){if(s.default.scrollingEnabled()){i.default.enableLoading(),s.default.disableScrolling();var t=e.deltaY>0?Math.max(s.default.windowTime()-1,0):Math.min(s.default.windowTime()+1,l.default.timeIDs.SEG_30);t!=s.default.windowTime()&&s.default.updateTimeWindow(t),i.default.disableLoading(),s.default.enableScrolling()}},autoRefreshingHandler:function(e){return k.apply(this,arguments)},singleTipHandler:function(e){$(".fa-list").css("color",s.default.singleTipEnabled()?"black":"lightgrey"),s.default.toggleSingleTip(),document.cookie="singleTip="+s.default.singleTipEnabled()+"; SameSite=Strict",l.default.toggleTooltipBehavior(s.default.chart(),s.default.singleTipEnabled())},dataClickHandler:function(e){return T.apply(this,arguments)},startDragging:function(e){s.default.startDrag(),s.default.updateDragOffsetX(e.offsetX),s.default.updateDragEndTime(s.default.end()),s.default.zoomFlags().isZooming&&(s.default.zoomFlags().beginX=e.clientX,s.default.zoomFlags().beginY=e.clientY,s.default.zoomFlags().hasBegan=!0,$("#canvas_area span.selection_box").css("display","block"),s.default.zoomFlags().time1=new Date(s.default.start().getTime()+e.offsetX*l.default.timeAxisPreferences[s.default.windowTime()].milliseconds/s.default.chart().chart.width))},doDragging:function(e){return _.apply(this,arguments)},stopDragging:function(e){return A.apply(this,arguments)},zoomClickHandler:function(e){s.default.autoEnabled()||(s.default.zoomFlags().isZooming?s.default.disableZoom():s.default.enableZoom(),i.default.toggleZoomButton(s.default.zoomFlags().isZooming))},toogleTable:function(e){this.checked?(i.default.updateDataTable(s.default.chart().data.datasets,s.default.start(),s.default.end()),i.default.showTable()):i.default.resetTable()},exportAs:function(e){if(!s.default.autoEnabled()){for(var t=a.utils.book_new(),n=[],o=0;o<s.default.chart().data.datasets.length;o++){var i=s.default.chart().data.datasets[o],l=i.label,u=i.pv.metadata,d=s.default.chart().data.datasets[o].data.map((function(e){return{x:e.x.toLocaleString("br-BR")+"."+e.x.getMilliseconds(),y:e.y}})),f=l.replace(new RegExp(":","g"),"_");f.length>31&&(f=(o+1).toString()),n.push(c({"Sheet Name":f,"PV Name":l},u)),a.utils.book_append_sheet(t,a.utils.json_to_sheet(d),f)}a.utils.book_append_sheet(t,a.utils.json_to_sheet(n),"Sheet Info");var p=(0,a.write)(t,{bookType:e,type:"binary"});try{(0,r.saveAs)(new Blob([S(p)],{type:"application/octet-stream"}),"export."+e)}catch(e){"undefined"!=typeof console&&console.log(e,p)}return p}},undoHandler:function(){return j.apply(this,arguments)},redoHandler:function(){return P.apply(this,arguments)},updateReferenceTime:function(e){e?(i.default.updateDateComponents(s.default.end()),s.default.updateTimeReference(s.default.references.END)):(i.default.updateDateComponents(s.default.start()),s.default.updateTimeReference(s.default.references.START))}}}();t.default=m},79:function(e,t,n){"use strict";n(286),n(290),n(110),n(294),n(28),n(295),n(44),n(36),n(113),n(296),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i,l,s,u,d,c,f=(r=[{text:"1Y",unit:"month",unitStepSize:2,milliseconds:31536e6,optimized:!0,bins:2e3,id:(a={YEAR:0,MONTH:1,WEEK2:2,WEEK1:3,DAY25:4,DAY1:5,HOUR18:6,HOUR12:7,HOUR_8:8,HOUR_4:9,HOUR2:10,HOUR1:11,MIN_30:12,MIN10:13,MIN_5:14,MIN1:15,SEG_30:16}).YEAR},{text:"1M",unit:"day",unitStepSize:4,milliseconds:2592e6,optimized:!0,bins:800,id:a.MONTH},{text:"2w",unit:"day",unitStepSize:2,milliseconds:12096e5,optimized:!0,bins:800,id:a.WEEK2},{text:"1w",unit:"day",unitStepSize:2,milliseconds:6048e5,optimized:!0,bins:800,id:a.WEEK1},{text:"2.5d",unit:"hour",unitStepSize:12,milliseconds:216e6,optimized:!0,bins:800,id:a.DAY25},{text:"1d",unit:"hour",unitStepSize:3,milliseconds:864e5,optimized:!0,bins:800,id:a.DAY1},{text:"18h",unit:"hour",unitStepSize:2,milliseconds:648e5,optimized:!0,bins:800,id:a.HOUR18},{text:"12h",unit:"hour",unitStepSize:2,milliseconds:432e5,optimized:!0,bins:800,id:a.HOUR12},{text:"8h",unit:"hour",unitStepSize:2,milliseconds:288e5,optimized:!0,bins:800,id:a.HOUR_8},{text:"4h",unit:"hour",unitStepSize:2,milliseconds:144e5,optimized:!0,bins:400,id:a.HOUR_4},{text:"2h",unit:"minute",unitStepSize:15,milliseconds:72e5,optimized:!0,bins:400,id:a.HOUR2},{text:"1h",unit:"minute",unitStepSize:15,milliseconds:36e5,optimized:!1,bins:200,id:a.HOUR1},{text:"30m",unit:"minute",unitStepSize:3,milliseconds:18e5,optimized:!1,bins:200,id:a.MIN_30},{text:"10m",unit:"minute",unitStepSize:2,milliseconds:6e5,optimized:!1,bins:50,id:a.MIN10},{text:"5m",unit:"second",unitStepSize:30,milliseconds:3e5,optimized:!1,bins:50,id:a.MIN_5},{text:"1m",unit:"second",unitStepSize:15,milliseconds:6e4,optimized:!1,bins:50,id:a.MIN1},{text:"30s",unit:"second",unitStepSize:3,milliseconds:3e4,optimized:!1,bins:50,id:a.SEG_30}],o=[],i=function(){return"#"+(Math.random().toString(16)+"0000000").slice(2,8)},l=["rgba(255, 0, 0, 1.0)","rgba(0, 255, 0, 1.0)","rgba(0, 0, 255, 1.0)","rgba(255, 10, 0, 1.0)","rgba(10, 255, 0, 1.0)","rgba(10, 10, 255, 1.0)","rgba(245, 130, 48, 1.0)","rgba(145, 30, 180, 1.0)","rgba(70, 240, 240, 1.0)","rgba(240, 50, 230 ,1.0)","rgba(210, 245, 60, 1.0)","rgba(250, 190, 190, 1.0)","rgba(0, 128, 128, 1.0)","rgba(230, 190, 255, 1.0)","rgba(170, 110, 40, 1.0)","rgba(128, 0, 0, 1.0)","rgba(170, 255, 195, 1.0)","rgba(255, 225, 25, 1.0)","rgba(0, 130, 200, 1.0)","rgba(128, 128, 128, 1.0)","rgba(0, 0, 0, 1.0)","rgba(230, 25, 75, 1.0)","rgba(60, 180, 75, 1.0)","rgba(0, 0, 128, 1.0)"],s=!0,u=function(e,t,n){t in o?o[t]++:(o[t]=1,null==n&&(n=3),e.options.scales.yAxes.push({id:t,type:"linear",display:!0,position:s?"left":"right",ticks:{callback:function(e){return 0!=e&&Math.abs(e)<Math.pow(10,-n)?e.toExponential(n):n>4?e.toExponential(3):e.toFixed(n)},minor:{display:!0,padding:0,labelOffset:0}},scaleLabel:{display:!0,labelString:t}}),s=!s,e.update())},d=function(e,t){e.hidden?(o[e.yAxisID]++,t.scales[e.yAxisID].options.display=!0,e.hidden=null):(e.hidden=!0,o[e.yAxisID]--,o[e.yAxisID]<=0&&(t.scales[e.yAxisID].options.display=!1))},c=function(e,t,n,a){var r=n.width,o=n.height,i={x:0,y:t};return e>n._chart.width-(r+10)?i.x=e-r-5:i.x=e+5,i.y=t-o*a+5,i},Chart.Tooltip.positioners.cursor=function(e,t){return c(t.x,t.y,this,0)},{timeAxisID:"x-axis-0",timeAxisPreferences:r,timeIDs:a,getAxesInUse:function(e){if(null==e||e.length<=1)return[];var t=[];return e.forEach((function(e){e.id in o&&o[e.id]>0&&t.push(e)})),t},yAxisUseCounter:function(){return o},colorStack:function(){return l},axisPositionLeft:function(){return s},toggleTooltipBehavior:function(e,t){t?(e.options.tooltips.position="nearest",e.options.tooltips.mode="nearest",e.options.tooltips.caretSize=5,delete e.options.tooltips.yAlign,delete e.options.tooltips.xAlign,delete e.options.tooltips.axis,e.options.elements.point.hoverRadius=5):(e.options.tooltips.position="cursor",e.options.tooltips.mode="nearest",e.options.tooltips.caretSize=0,e.options.tooltips.yAlign="no-transform",e.options.tooltips.xAlign="no-transform",e.options.tooltips.axis="x",e.options.elements.point.hoverRadius=0),e.update()},updateAxisPositionLeft:function(e){s=e},toggleAxisType:function(e,t,n){if(!(e.options.scales.yAxes.length<=1))for(var a=1;a<e.options.scales.yAxes.length;a++)e.options.scales.yAxes[a].id==t&&(e.options.scales.yAxes[a].type=n?"logarithmic":"linear",e.update())},toggleAutoY:function(e,t,n){for(var a=$(n).closest(".data_axis_table").find(":text"),r=1;r<e.options.scales.yAxes.length;r++)if(e.options.scales.yAxes[r].id==t)if((a=a.slice(2*(r-1),2*(r-1)+2)).toggle(),n.checked)for(var o=0;o<a.length;o++){var i=parseFloat(a[o].value);isNaN(i)||("Max"===$(a[o]).attr("placeholder")?e.options.scales.yAxes[r].ticks.max=i:e.options.scales.yAxes[r].ticks.min=i)}else delete e.options.scales.yAxes[r].ticks.max,delete e.options.scales.yAxes[r].ticks.min;e.update()},changeYLimit:function(e,t,n){if(!(e.options.scales.yAxes.length<=1)){for(var a=1;a<e.options.scales.yAxes.length;a++)if(e.options.scales.yAxes[a].id==t){var r=parseFloat(n.value);"Max"===$(n).attr("placeholder")?isNaN(r)?delete e.options.scales.yAxes[a].ticks.max:e.options.scales.yAxes[a].ticks.max=r:isNaN(r)?delete e.options.scales.yAxes[a].ticks.min:e.options.scales.yAxes[a].ticks.min=r}e.update()}},updateTimeAxis:function(e,t,n,a,r){e.options.scales.xAxes[0].time.unit=t,e.options.scales.xAxes[0].time.stepSize=n,e.options.scales.xAxes[0].time.min=a,e.options.scales.xAxes[0].time.max=r},appendDataAxis:u,appendDataset:function(e,t,n,a,r){var o=parseFloat(r.samplingPeriod),s=r.pvName,d=r.DESC,c=r.DBRType,f=""!=r.EGU||null==r.EGU?r.EGU:r.pvName,p=l.length>0?l.pop():i();null==f&&(f=s),f=f.replace("?","o"),u(e,f,a),e.data.datasets.push({label:s,xAxisID:"x-axis-0",yAxisID:f,borderWidth:1.5,data:t,showLine:!0,steppedLine:!0,fill:!1,pointRadius:0,backgroundColor:p,borderColor:p,pv:{precision:a,type:c,samplingPeriod:o,optimized:!(n<0),desc:d,egu:f,metadata:r}}),e.update()},hidesAxis:d,legendCallback:function(e,t){var n=this.chart.getDatasetMeta(t.datasetIndex);d(n,this.chart),this.chart.update(0,!1)},labelCallback:function(e,t){return 0!=e.yLabel&&Math.abs(e.yLabel)<Math.pow(10,-t.datasets[e.datasetIndex].pv.precision)?t.datasets[e.datasetIndex].label+": "+e.yLabel.toExponential(Math.min(3,t.datasets[e.datasetIndex].pv.precision)):t.datasets[e.datasetIndex].pv.precision>4?t.datasets[e.datasetIndex].label+": "+e.yLabel.toExponential(3):t.datasets[e.datasetIndex].label+": "+e.yLabel.toFixed(t.datasets[e.datasetIndex].pv.precision)},reboundTooltip:c,randomColorGenerator:i});t.default=f},86:function(e,t,n){"use strict";n(286),n(323),n(110),n(324),n(321),n(294),n(325),n(44),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){var e=0,t=[];function n(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}var a=function(e){$("#warning h4").text(e),i();var t=setInterval((function(){l(),clearInterval(t)}),5e3)},r=[],o=function(e,n){var a,o;for($("#table_PVs tr").remove(),r=[],a=10*e*4;a<n.length&&a<10*(e+1)*4;a++){(a-10*e*4)%4||(o=$("<tr></tr>")).appendTo($("#table_PVs"));var i=$("<td></td>");r.push($("<input />").attr({type:"checkbox",checked:t.indexOf(n[a])>-1}).click({name:n[a]},(function(e){this.checked?t.push(e.data.name):t.splice(t.indexOf(e.data.name),1)})).appendTo(i)),$("<label></label>").text(n[a]).appendTo(i),i.appendTo(o)}},i=function(){$("#warning").fadeIn()},l=function(){$("#warning").fadeOut()};return{selectedPVs:function(){return t},updateDataAxisInfoTable:function(e,t,n,a){var r;$("#data_axis .data_axis_table").remove();var o=$("<table></table>").addClass("data_axis_table");if(!(e.length<1)){for(var i=0;i<e.length;i++){i%4||(r=$("<tr></tr>")).appendTo(o),$("<td></td>").text("Chart Series: "+e[i].id).appendTo(r);var l=$('<div class="footer-box-wrapper"></div>'),s=$('<td class="footer-box"></td>'),u=$("<label></label>"),d=!isNaN(e[i].ticks.max)||!isNaN(e[i].ticks.min),c=$("<input />").attr({class:"footer-input",type:"text",placeholder:"Min",value:d?e[i].ticks.min:""}).blur({axisId:e[i].id},a).appendTo(r),f=$("<input />").attr({class:"footer-input",type:"text",placeholder:"Max",value:d?e[i].ticks.max:""}).blur({axisId:e[i].id},a).appendTo(r);d||(f.hide(),c.hide());$("<input />").attr({type:"checkbox",checked:d}).click({axisId:e[i].id},n).appendTo(u),$("<span></span>").attr("class","tooltip").text("Manual Y Limit").appendTo(u);u.appendTo(s),s.appendTo(l),s=$('<td class="footer-box"></td>'),u=$("<label></label>");$("<input />").attr({type:"checkbox",checked:"linear"!==e[i].type}).click({axisId:e[i].id},t).appendTo(u),$("<span></span>").attr("class","tooltip").text("Log Y Axis").appendTo(u);u.appendTo(s),s.appendTo(l),l.appendTo(r)}$("#data_axis").append(o)}},updateDateComponents:function(e){void 0===e&&(e=new Date);var t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2);$("#day").val(e.getFullYear()+"-"+a+"-"+t),$("#hour").val(n(e.getHours(),2)),$("#minute").val(n(e.getMinutes(),2)),$("#second").val(n(e.getSeconds(),2))},toogleWindowButton:function(e,t){void 0!==t&&($("#window_table tr").eq(0).find("td").eq(t)[0].className="unpushed"),void 0!==e&&($("#window_table tr").eq(0).find("td").eq(e)[0].className="pushed")},enableLoading:function(){$(".lds-ellipsis").css("display","inline-block")},disableLoading:function(){$(".lds-ellipsis").css("display","none")},showWarning:function(){$("#obs").fadeIn().delay(5e3).fadeOut()},hideWarning:function(){$("#obs").fadeOut()},getTimedate:function(){var e=$("#day").val().split("-"),t=parseInt(e[2]),n=parseInt(e[1])-1,a=parseInt(e[0]),r=parseInt($("#hour").val()),o=parseInt($("#minute").val()),i=parseInt($("#second").val());return new Date(a,n,t,r,o,i,0)},enableDate:function(){$("#day").prop("disabled",!1),$("#hour").prop("disabled",!1),$("#minute").prop("disabled",!1),$("#second").prop("disabled",!1)},disableDate:function(){$("#day").prop("disabled",!0),$("#hour").prop("disabled",!0),$("#minute").prop("disabled",!0),$("#second").prop("disabled",!0)},showSearchResultsAtPage:o,showSearchResults:function(n){null!=n&&n.length>0?(n.length>1?$("#archived_PVs h2").text(n.length+" PVs have been found."):$("#archived_PVs h2").text("1 PV has been found."),e=0,t=[],o(0,n),$(document.body).children().css("opacity","0.3"),$("#archived_PVs").show(),$("#archived_PVs").css("opacity","1.0"),$("#previous").hide(),$("#previous").unbind().click({pvs:n},(function(t){o(e-=1,t.data.pvs),e||$("#previous").hide(),$("#next").show()})),$("#next").unbind().click({pvs:n},(function(t){o(e+=1,t.data.pvs),10*(e+1)*4>=t.data.pvs.length&&$("#next").hide(),$("#previous").show()})),n.length<=40?$("#next").hide():$("#next").show()):null!=n&&a("No PVs corresponding to the search string have been found.")},hideSearchedPVs:function(){$("#archived_PVs").hide(),$(document.body).children().css("opacity","1.0")},toggleZoomButton:function(e){e?$("#date .zoom").css("background-color","lightgrey"):$("#date .zoom").css("background-color","grey")},hideZoomBox:function(){$("#canvas_area span.selection_box").hide(),$("#canvas_area span.selection_box").css("width",0),$("#canvas_area span.selection_box").css("height",0)},drawZoomBox:function(e,t,n){$("#canvas_area span.selection_box").css("left",e+"px"),$("#canvas_area span.selection_box").css("top","0"),$("#canvas_area span.selection_box").css("width",t+"px"),$("#canvas_area span.selection_box").css("height",n+"px")},updateAddress:function(e){var t=window.location.pathname+e;history.pushState&&window.history.pushState({path:t},"",t)},updateDataTable:function(e,t,n){$("#data_table_area .data_table").remove(),$("#data_table_area h2").remove();for(var a=0;a<e.length;a++){var r=$("<table></table>").addClass("data_table"),o=e[a].data,i=0;$("#data_table_area").append($("<h2></h2>").text(e[a].label));for(var l=void 0,s=0;s<o.length;s++)o[s].x.getTime()>=t.getTime()&&o[s].x.getTime()<=n.getTime()&&(i%8||(l=$("<tr></tr>")).appendTo(r),i++,$("<td></td>").attr("class","pvTime").text(o[s].x.toLocaleDateString()+" "+o[s].x.toLocaleTimeString()).appendTo(l),$("<td></td>").attr("class","pvValue").text(o[s].y.toFixed(e[a].pv.precision)).appendTo(l));$("#data_table_area").append(r)}},showTable:function(){$("#data_table_area .data_table").show()},resetTable:function(){$("#data_table_area .data_table").remove(),$("#data_table_area h2").remove(),$("#data_table_area .data_table").hide()},updatePVInfoTable:function(e,t,n,a){var r;$("#data_pv_info .pv_info_table").remove();for(var o=$("<table></table>").addClass("pv_info_table"),i=0;i<e.length;i++){i%4||(r=$("<tr></tr>")).appendTo(o),$("<td></td>").css({"background-color":e[i].backgroundColor,width:"30px",cursor:"pointer"}).click({datasetIndex:i},t).appendTo(r),$("<td></td>").text(e[i].label).appendTo(r);var l=$("<td></td>");$("<input />").attr({type:"checkbox",checked:e[i].pv.optimized,disabled:"DBR_SCALAR_ENUM"===e[i].pv.type}).click({datasetIndex:i},n).appendTo(l);var s=$("<label></label>").attr("class","tooltip").text("Optimize");$("<span></span>").attr("class","tooltiptext").text("Uncheck it if you want raw data sent from the server.").appendTo(s),s.appendTo(l),l.appendTo(r);var u=$("<td></td>");u.css({cursor:"pointer"}).text("Remove").click({datasetIndex:i},a),u.appendTo(r)}$("#data_pv_info").append(o)},showSearchWarning:i,hideSearchWarning:l,toogleSearchWarning:a,disable:function(e){e.addClass("disabled"),e.css({"background-color":"lightblue",cursor:"default",pointerEvents:"none"})},enable:function(e){e.removeClass("disabled"),e.css({"background-color":"grey",cursor:"pointer",pointerEvents:"auto"})},enableReference:function(e){$("#date .type>option:eq("+(1-e)+")").prop("selected",!1),$("#date .type>option:eq("+e+")").prop("selected",!0)},selectedAllPVs:function(e){for(var t=0;t<r.length;t++)r[t].prop("checked",!0).triggerHandler("click")},deselectedAllPVs:function(e){for(var t=0;t<r.length;t++)r[t].prop("checked",!1).triggerHandler("click")}}}();t.default=a},87:function(e,t,n){"use strict";n(323),n(324),n(320),n(28),n(295),n(325),n(116),n(44),n(78),n(412),n(322),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(120);var a=l(n(122)),r=l(n(86)),o=l(n(79)),i=l(n(66));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){s(o,a,r,i,l,"next",e)}function l(e){s(o,a,r,i,l,"throw",e)}i(void 0)}))}}var d=function(){var e,t,n={REMOVE_PV:0,APPEND_PV:1,CHANGE_WINDOW_TIME:2,CHANGE_END_TIME:3,CHANGE_START_TIME:4,ZOOM:5},l={START:0,END:1},s=null,d=l.END,c=o.default.timeIDs.MIN10,f=null,p=!1,h=!0,m=!0,g=!0,b=new Date,x=0,y={dragStarted:!1,updateOnComplete:!0},v={isZooming:!1,hasBegan:!1},w=[],k=[],T=Chart.scaleService.constructors.linear.prototype.getPixelForValue;Chart.scaleService.constructors.linear.prototype.getPixelForValue=function(e){var t=T.call(this,e);return Math.min(2147483647,Math.max(-2147483647,t))};var _=Chart.Controller.prototype.eventHandler;function A(){return(A=u(regeneratorRuntime.mark((function n(a){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((c=a)<o.default.timeIDs.MIN_30?p&&(p=!1,clearInterval(f)):p||r.default.enable($("#date span.auto")),d!=l.END){n.next=6;break}e=new Date(t.getTime()-o.default.timeAxisPreferences[c].milliseconds),n.next=11;break;case 6:if(d!=l.START){n.next=11;break}return n.next=9,H();case 9:i=n.sent,t=e.getTime()+o.default.timeAxisPreferences[c].milliseconds<=i.getTime()?new Date(e.getTime()+o.default.timeAxisPreferences[c].milliseconds):i;case 11:I(),M(!0),F(),o.default.updateTimeAxis(s,o.default.timeAxisPreferences[c].unit,o.default.timeAxisPreferences[c].unitStepSize,e,t),r.default.disableLoading();case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(e,t,n){return j.apply(this,arguments)}function j(){return(j=u(regeneratorRuntime.mark((function l(u,d,f){var p,h,m;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return 0==o.default.colorStack().length&&console.log("Color stack limit reached. A random color will be used for pv "+u+"."),l.next=3,a.default.fetchMetadata(u).catch((function(e){return console.log("Fetch metadata Exception",e)}));case 3:if(null!=(p=l.sent)){l.next=8;break}return r.default.toogleSearchWarning("Failed to fetch metadata for pv "+u),console.log("No metadata for ",u),l.abrupt("return",-1);case 8:return h=P(parseFloat(p.samplingPeriod),p.DBRType),0==d?h=-1:d&&-1==h&&(h=o.default.timeAxisPreferences[c].bins),l.next=12,a.default.fetchData(u,e,t,!(h<0),h,i.default.handleFetchDataError,r.default.enableLoading);case 12:null==(m=l.sent)||null==m||0==m[0].data.length?(r.default.toogleSearchWarning("No data was received from server."),console.log("No data received from server. ",u)):(o.default.appendDataset(s,R(a.default.parseData(m[0].data)),h,parseInt(m[0].meta.PREC)+1,p),q()),D(),F(),r.default.updatePVInfoTable(s.data.datasets,B,Z,Y),f&&null!=f||w.push({action:n.APPEND_PV,pv:u}),r.default.disableLoading();case 19:case"end":return l.stop()}}),l)})))).apply(this,arguments)}Chart.Controller.prototype.eventHandler=function(){var e=_.apply(this,arguments);this.tooltip._model.width,this.tooltip._model.height;if(!h){var t=arguments[0].x;arguments[0].y;this.clear(),this.draw();var n=this.scales["y-axis-0"];this.chart.ctx.beginPath(),this.chart.ctx.moveTo(t,n.getPixelForValue(n.max)),this.chart.ctx.strokeStyle="#ff0000",this.chart.ctx.lineTo(t,n.getPixelForValue(n.min)),this.chart.ctx.stroke()}this.tooltip.width=this.tooltip._model.width,this.tooltip.height=this.tooltip._model.height;var a=o.default.reboundTooltip(arguments[0].x,arguments[0].y,this.tooltip,.5);return this.tooltip._model.x=a.x,this.tooltip._model.y=a.y,e};var P=function(e,t){return"DBR_SCALAR_ENUM"==t?-1:c<o.default.timeIDs.HOUR2?o.default.timeAxisPreferences[c].bins:-1};function O(e,t,n){return E.apply(this,arguments)}function E(){return(E=u(regeneratorRuntime.mark((function a(i,s,u){var f;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return null==i&&(i=new Date),null!=s&&null!=s||(s=!1),a.next=4,H();case 4:f=a.sent,d==l.END?(u&&null!=u||w.push({action:n.CHANGE_END_TIME,endTime:t}),t=i.getTime()<=f.getTime()?i:f,e=new Date(t.getTime()-o.default.timeAxisPreferences[c].milliseconds),s&&r.default.updateDateComponents(t)):(u&&null!=u||w.push({action:n.CHANGE_START_TIME,startTime:e}),i.getTime()+o.default.timeAxisPreferences[c].milliseconds<=f.getTime()?(e=i,t=new Date(i.getTime()+o.default.timeAxisPreferences[c].milliseconds)):(e=new Date(f.getTime()-o.default.timeAxisPreferences[c].milliseconds),t=f),s&&r.default.updateDateComponents(e)),r.default.disableLoading();case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var D=function(){for(var e=!1,t=0;t<s.data.datasets.length;t++)e|=s.data.datasets[t].pv.optimized;"block"!=$("#obs").css("display")&&(e?r.default.showWarning():r.default.hideWarning())},R=function(n){if(n.length>0){var a=n[0],r=n[n.length-1];a.x.getTime()>e.getTime()&&n.unshift({x:e,y:a.y}),r.x.getTime()<t.getTime()&&n.push({x:t,y:r.y})}return n};function z(e){return C.apply(this,arguments)}function C(){return(C=u(regeneratorRuntime.mark((function n(l){var u,d,f,p,h,m,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=s.data.datasets[l].data.length){n.next=8;break}return u=o.default.timeAxisPreferences[c].bins,n.next=4,a.default.fetchData(s.data.datasets[l].label,e,t,s.data.datasets[l].pv.optimized,u,i.default.handleFetchDataError,r.default.enableLoading);case 4:(d=n.sent)&&d.length>0&&Array.prototype.push.apply(s.data.datasets[l].data,R(a.default.parseData(d[0].data))),n.next=28;break;case 8:if(f=s.data.datasets[l].data[0].x,p=s.data.datasets[l].data[s.data.datasets[l].data.length-1].x,!(f.getTime()>e.getTime())){n.next=16;break}return n.next=12,a.default.fetchData(s.data.datasets[l].label,e,f,!1,i.default.handleFetchDataError,r.default.enableLoading);case 12:if((h=n.sent).length>0){for(h=h[0].data,m=new Date(1e3*h[h.length-1].secs+1e-6*h[h.length-1].nanos);h.length>0&&m.getTime()>=f.getTime();)h.pop(),h.length>0&&m.setUTCMilliseconds(1e3*h[h.length-1].secs+1e-6*h[h.length-1].nanos);Array.prototype.unshift.apply(s.data.datasets[l].data,a.default.parseData(h))}n.next=17;break;case 16:for(;s.data.datasets[l].data.length>0&&s.data.datasets[l].data[0].x.getTime()<e.getTime();)s.data.datasets[l].data.shift();case 17:if(!(p.getTime()<t.getTime())){n.next=24;break}return n.next=20,a.default.fetchData(s.data.datasets[l].label,p,t,!1,i.default.handleFetchDataError,r.default.enableLoading);case 20:if((h=n.sent).length>0){for(h=h[0].data,m=new Date(1e3*h[0].secs+1e-6*h[0].nanos);h.length>0&&m.getTime()<=p.getTime();)h.shift(),h.length>0&&m.setUTCMilliseconds(1e3*h[0].secs+1e-6*h[0].nanos);Array.prototype.push.apply(s.data.datasets[l].data,a.default.parseData(h))}n.next=26;break;case 24:for(g=s.data.datasets[l].data.length-1,g=s.data.datasets[l].data.length-1;s.data.datasets[l].data.length>0&&s.data.datasets[l].data[g].x.getTime()>t.getTime();g--)s.data.datasets[l].data.pop();case 26:return n.next=28,R(s.data.datasets[l].data);case 28:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var I=function(){for(var e=0;e<s.data.datasets.length;e++){var t=P(s.data.datasets[e].pv.samplingPeriod,s.data.datasets[e].pv.type);s.data.datasets[e].pv.optimized=!(t<0)}};function M(e){return N.apply(this,arguments)}function N(){return(N=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t=!1),D(),n=0;case 3:if(!(n<s.data.datasets.length)){e.next=10;break}return(s.data.datasets[n].pv.optimized||t)&&(s.data.datasets[n].data.length=0),e.next=7,z(n);case 7:n++,e.next=3;break;case 10:r.default.updatePVInfoTable(s.data.datasets,B,Z,Y),s.update(),r.default.disableLoading();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){for(var n="?",a=0;a<s.data.datasets.length;a++)s.data.datasets[a].pv.optimized?n+="pv=optimized_"+o.default.timeAxisPreferences[c].bins+"("+encodeURIComponent(s.data.datasets[a].label)+")&":n+="pv="+encodeURIComponent(s.data.datasets[a].label)+"&";n+="from="+encodeURIComponent(e.toJSON())+"&",n+="to="+encodeURIComponent(t.toJSON()),r.default.updateAddress(n)};function W(){return(W=u(regeneratorRuntime.mark((function n(a){var i,l,u,d,f,p,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=[],l=null,u=null,""!=a)for(d=a.split("&"),f=0;f<d.length;f++)-1!=d[f].indexOf("pv=")?i.push(decodeURIComponent(d[f].substr(d[f].indexOf("=")+1))):-1!=d[f].indexOf("from=")?l=decodeURIComponent(d[f].substr(d[f].indexOf("=")+1)):-1!=d[f].indexOf("to=")&&(u=decodeURIComponent(d[f].substr(d[f].indexOf("=")+1)));if(null==l||null==u){n.next=9;break}for(e=new Date(l),t=new Date(u),c=0;t.getTime()-e.getTime()<o.default.timeAxisPreferences[c].milliseconds&&c<o.default.timeIDs.SEG_30;)c++;n.next=11;break;case 9:return n.next=11,O(new Date,!0);case 11:for(r.default.updateDateComponents(t),o.default.updateTimeAxis(s,o.default.timeAxisPreferences[c].unit,o.default.timeAxisPreferences[c].unitStepSize,e,t),f=0;f<i.length;f++)p=!1,-1!=i[f].indexOf("optimized_")&&(i[f]=i[f].substr(i[f].indexOf("(")+1),i[f]=i[f].substr(0,i[f].indexOf(")")),p=!0),S(i[f],p);m=V("singleTip"),h="true"==m||null==m,o.default.toggleTooltipBehavior(s,h),$(".fa-list").css("color",h?"lightgrey":"black"),s.update(0,!1);case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var a=t[n].split("=");if(e==a[0].trim())return decodeURIComponent(a[1])}return null}function H(){return U.apply(this,arguments)}function U(){return(U=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return",new Date);case 2:if(new Date-x<0&&(x=new Date),!(new Date-x<2e3)){e.next=5;break}return e.abrupt("return",b);case 5:return e.prev=5,e.next=8,$.ajax({url:a.default.bypassUrl()+"/date",timeout:300});case 8:return t=e.sent,n=void 0===t?new Date:new Date(t),b=n,x=new Date,e.abrupt("return",n);case 15:return e.prev=15,e.t0=e.catch(5),console.log("Date retrieval failed. Using local date."),g=!1,e.abrupt("return",new Date);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var L=function(){var e=u(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.data.datasets[t].pv.optimized=n,s.data.datasets[t].data.length=0,e.next=4,z(t).then((function(e){r.default.disableLoading(),F(),s.update(),console.log("Plot update at index",t)})).catch((function(e){console.log("Failed to update plot at index ",t)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e,t){if(o.default.yAxisUseCounter()[s.data.datasets[e].yAxisID]--,o.default.colorStack().push(s.data.datasets[e].backgroundColor),t&&null!=t||w.push({action:n.REMOVE_PV,pv:s.data.datasets[e].label,optimized:s.data.datasets[e].pv.optimized}),0==o.default.yAxisUseCounter()[s.data.datasets[e].yAxisID]){delete o.default.yAxisUseCounter()[s.data.datasets[e].yAxisID],s.scales[s.data.datasets[e].yAxisID].options.display=!1,o.default.updateAxisPositionLeft("left"==s.scales[s.data.datasets[e].yAxisID].position),delete s.scales[s.data.datasets[e].yAxisID];for(var a=1;a<s.options.scales.yAxes.length;a++)if(s.options.scales.yAxes[a].id==s.data.datasets[e].yAxisID){s.options.scales.yAxes.splice(a,1);break}}s.data.datasets.splice(e,1),s.update(0),F(),r.default.updatePVInfoTable(s.data.datasets,B,Z,Y),D()},B=function(e){o.default.hidesAxis(s.getDatasetMeta(e.data.datasetIndex),s),s.update(0,!1)},Z=function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.data.datasetIndex,this.checked);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),q=function(){r.default.updateDataAxisInfoTable(o.default.getAxesInUse(s.options.scales.yAxes),(function(e){o.default.toggleAxisType(s,e.data.axisId,e.target.checked)}),(function(e){o.default.toggleAutoY(s,e.data.axisId,e.currentTarget)}),(function(e){o.default.changeYLimit(s,e.data.axisId,e.currentTarget)}))},Y=function(e){G(e.data.datasetIndex),q()};return{stackActions:n,references:l,chart:function(){return s},start:function(){return e},end:function(){return t},reference:function(){return d},windowTime:function(){return c},timer:function(){return f},autoEnabled:function(){return p},singleTipEnabled:function(){return h},scrollingEnabled:function(){return m},serverDateEnabled:function(){return g},dragFlags:function(){return y},zoomFlags:function(){return v},undoStack:function(){return w},redoStack:function(){return k},getWindowTime:function(){return c},getDateNow:H,startTimer:function(e){f=e},updateTimeWindow:function(e){return A.apply(this,arguments)},updateTimeWindowOnly:function(e){c=e},updateStartTime:function(t){e=t},updateEndTime:function(e){t=e},updateTimeReference:function(e){d=e},updateStartAndEnd:O,toggleAuto:function(){p=!p},toggleSingleTip:function(){h=!h},disableAuto:function(){p=!1},disableServerDate:function(){g=!1},enableAuto:function(){p=!0},disableScrolling:function(){m=!1},enableScrolling:function(){m=!0},startDrag:function(){y.dragStarted=!0},stopDrag:function(){y.dragStarted=!1},updateDragEndTime:function(e){y.endTime=e},updateDragOffsetX:function(e){y.x=e},enableZoom:function(){v.isZooming=!0},disableZoom:function(){v.isZooming=!1},init:function(e){s=e},appendPV:S,shouldOptimizeRequest:P,updateOptimizedWarning:D,improveData:R,updatePlot:z,optimizeAllGraphs:I,updateAllPlots:M,getPlotIndex:function(e){for(var t=0;t<s.data.datasets.length;t++)if(s.data.datasets[t].label==e||s.data.datasets[t].label==decodeURIComponent(e))return t;return null},updateURL:F,loadFromURL:function(e){return W.apply(this,arguments)},optimizePlot:L,removeDataset:G,hideAxis:B,optimizeHandler:Z,removeHandler:Y}}();t.default=d}});