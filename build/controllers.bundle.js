!function(t){function e(e){for(var n,s,r=e[0],u=e[1],c=e[2],d=0,p=[];d<r.length;d++)s=r[d],a[s]&&p.push(a[s][0]),a[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,r=1;r<i.length;r++){var u=i[r];0!==a[u]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={2:0,3:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=u;o.push([13,0,1]),i()}({1:function(t,e,i){"use strict";var n=i(18),a=i(5),o=i(10),s=i(32),r=i(8),u=i(9),c=i(23),l=i.n(c),d=i(12),p=function(){function t(){this.undoStack=[],this.redoStack=[]}return t.prototype.redoStackPop=function(){return this.redoStack.pop()},t.prototype.redoStackPush=function(t){this.redoStack.push(t)},t.prototype.undoStackPop=function(){return this.undoStack.pop()},t.prototype.undoStackPush=function(t){this.undoStack.push(t)},t}();var h=function(){return new p},f=u.a.setAutoScroll,m=function(){function t(t){this.state=!1,this.UPDATE_INTERVAL=5e3,this.updateFunction=t}return t.prototype.setState=function(t){this.state=t,r.a.dispatch(f(this.state))},t.prototype.isEnabled=function(){return this.state},t.prototype.setEnabled=function(){this.timerRef=setInterval(this.updateFunction,this.UPDATE_INTERVAL),this.setState(!0)},t.prototype.setDisabled=function(){clearInterval(this.timerRef),this.setState(!1)},t.prototype.toggle=function(){this.state?this.setDisabled():this.setEnabled()},t}(),g=function(t){return new m(t)},v=function(){function t(){}return t.prototype.getEnd=function(){return this.end},t.prototype.getStart=function(){return this.start},t.prototype.setEnd=function(t){r.a.dispatch(Object(u.m)(t)),this.end=t},t.prototype.setStart=function(t){r.a.dispatch(Object(u.o)(t)),this.start=t},t.prototype.setStartEnd=function(t,e){throw new Error("Method not implemented.")},t}();var y=function(){return new v};i.d(e,"a",(function(){return b}));var b,S=function(t,e,i,n){return new(i||(i=Promise))((function(a,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function r(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,r)}u((n=n.apply(t,e||[])).next())}))},x=function(t,e){var i,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}};!function(t){t[t.START=0]="START",t[t.END=1]="END"}(b||(b={}));var E=new(function(){function t(){var t=this;this.chart=null,this.reference=b.END,this.windowTime=a.a.timeIDs.MIN10,this.singleTipEnabled=!0,this.scrollingEnabled=!0,this.serverDateEnabled=!0,this.cachedDate=null,this.lastFetch=null,this.zoomFlags={isZooming:!1,hasBegan:!1},this.time=y(),this.stack=h(),this.autoUpdate=g((function(){return S(t,void 0,void 0,(function(){return x(this,(function(t){return[2,this.autoUpdateFunction()]}))}))})),this.datasetLatestFetchRequestTime={}}return t.prototype.update=function(t){this.chart.update(t)},t.prototype.getDatasetIndex=function(t){var e=null;return this.chart.data.datasets.forEach((function(i,n){null===e&&i.label===t&&(e=n)})),null===e&&console.error("Failed to get dataset index of label "+t),e},t.prototype.setStart=function(t){this.time.setStart(t)},t.prototype.setEnd=function(t){this.time.setEnd(t)},t.prototype.updateTimeWindowOnly=function(t){this.windowTime=t,r.a.dispatch(Object(u.p)(this.windowTime))},t.prototype.isAutoUpdateEnabled=function(){return this.autoUpdate.isEnabled()},t.prototype.autoUpdateFunction=function(){return S(this,void 0,void 0,(function(){var t;return x(this,(function(e){switch(e.label){case 0:return this.reference===b.START&&this.updateTimeReference(b.END),[4,this.getDateNow()];case 1:return t=e.sent(),[4,this.updateStartAndEnd(t,!0)];case 2:return e.sent(),a.a.updateTimeAxis(this.chart,a.a.timeAxisPreferences[this.windowTime].unit,a.a.timeAxisPreferences[this.windowTime].unitStepSize,this.time.getStart(),this.time.getEnd()),this.updateURL(),[4,this.updateAllPlots(!1)];case 3:return e.sent(),[2]}}))}))},t.prototype.toggleAutoUpdate=function(){this.autoUpdate.toggle()},t.prototype.updateTimeReference=function(t){this.reference=t,r.a.dispatch(Object(u.n)(this.reference))},t.prototype.isSingleTipEnabled=function(){return this.singleTipEnabled},t.prototype.setSingleTipEnabled=function(t){this.singleTipEnabled=t,r.a.dispatch(Object(u.l)(this.singleTipEnabled))},t.prototype.init=function(t){this.chart=t,this.doSubscriptions(),this.loadTooltipSettings()},t.prototype.doSubscriptions=function(){var t=this;r.a.subscribe((function(){r.a.getState().chart.dataAxis.forEach((function(e){var i=e.id,n=e.yLimitManual,o=e.yMin,s=e.yMax,r=!1,u=Object(a.b)(t.chart,i);if(null!==u){var c=t.chart.options.scales.yAxes[u];n?(o&&(!("min"in c.ticks)||"min"in c.ticks&&o!==c.ticks.min)&&(r=!0,c.ticks.min=o),s&&(!("max"in c.ticks)||"max"in c.ticks&&s!==c.ticks.max)&&(r=!0,c.ticks.max=s)):(delete c.ticks.max,delete c.ticks.min,r=!0),r&&t.update()}}))}))},t.prototype.updateTimeWindow=function(t){return S(this,void 0,void 0,(function(){var e;return x(this,(function(i){switch(i.label){case 0:return this.updateTimeWindowOnly(t),this.windowTime<a.a.timeIDs.MIN_30&&this.autoUpdate.isEnabled()&&this.autoUpdate.setDisabled(),this.reference!==b.END?[3,1]:(this.time.setStart(new Date(this.time.getEnd().getTime()-a.a.timeAxisPreferences[this.windowTime].milliseconds)),[3,3]);case 1:return this.reference!==b.START?[3,3]:[4,this.getDateNow()];case 2:e=i.sent(),this.time.getStart().getTime()+a.a.timeAxisPreferences[this.windowTime].milliseconds<=e.getTime()?this.time.setEnd(new Date(this.time.getStart().getTime()+a.a.timeAxisPreferences[this.windowTime].milliseconds)):this.time.setEnd(e),i.label=3;case 3:return this.optimizeAllGraphs(),this.updateAllPlots(!0),this.updateURL(),a.a.updateTimeAxis(this.chart,a.a.timeAxisPreferences[this.windowTime].unit,a.a.timeAxisPreferences[this.windowTime].unitStepSize,this.time.getStart(),this.time.getEnd()),[2]}}))}))},t.prototype.shouldOptimizeRequest=function(t,e){return"DBR_SCALAR_ENUM"===e?-1:this.windowTime<a.a.timeIDs.HOUR2?a.a.timeAxisPreferences[this.windowTime].bins:-1},t.prototype.updateEndTime=function(t,e){return S(this,void 0,void 0,(function(){var i,n;return x(this,(function(o){return this.time.getEnd()||(i=t),i=t.getTime()<=e.getTime()?t:e,n=new Date(i.getTime()-a.a.timeAxisPreferences[this.windowTime].milliseconds),i&&this.time.setEnd(i),this.time.setStart(n),[2]}))}))},t.prototype.updateStartTime=function(t,e){return S(this,void 0,void 0,(function(){var i,n,o,s;return x(this,(function(r){return this.time.getStart()||(i=e),t.getTime()+a.a.timeAxisPreferences[this.windowTime].milliseconds<=e.getTime()?(o=new Date(t.getTime()+a.a.timeAxisPreferences[this.windowTime].milliseconds),i=t,n=o):(s=new Date(e.getTime()-a.a.timeAxisPreferences[this.windowTime].milliseconds),i=s,n=e),i&&this.time.setStart(i),n&&this.time.setEnd(n),[2]}))}))},t.prototype.updateStartAndEnd=function(t,e){return S(this,void 0,void 0,(function(){var i;return x(this,(function(n){switch(n.label){case 0:return null==t&&(t=new Date),[4,this.getDateNow()];case 1:return i=n.sent(),this.reference===b.END?(e&&this.stack.undoStackPush({action:d.a.CHANGE_END_TIME,endTime:this.time.getEnd()}),[4,this.updateEndTime(t,i)]):[3,3];case 2:return n.sent(),[3,5];case 3:return e&&this.stack.undoStackPush({action:d.a.CHANGE_START_TIME,startTime:this.time.getStart()}),[4,this.updateStartTime(t,i)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))},t.prototype.updateOptimizedWarning=function(){for(var t=0,e=0;e<this.chart.data.datasets.length;e++)t|=this.chart.data.datasets[e].pv.optimized;if(t){o.c.Warning("Data is being optimized","In order to reduce the data amount retrieved from server, an optimization is used. Each point corresponds to an average calculated over its neighborhood.")}},t.prototype.improveData=function(t){var e=[];if(t.length>0){var i=t[0],n=t[t.length-1];i.x.getTime()>this.time.getStart().getTime()&&e.push({x:this.time.getStart(),y:i.y}),n.x.getTime()<this.time.getEnd().getTime()&&t.push({x:this.time.getEnd(),y:n.y})}return t.unshift.apply(t,e),t},t.prototype.updateEmptyDataset=function(t,e){return S(this,void 0,void 0,(function(){var i,s,r=this;return x(this,(function(u){switch(u.label){case 0:return i=a.a.timeAxisPreferences[this.windowTime].bins,s=(new Date).getTime(),this.datasetLatestFetchRequestTime[t]=s,[4,n.default.fetchData(e.label,this.time.getStart(),this.time.getEnd(),e.pv.optimized,i).then((function(i){var n=i.data;r.datasetLatestFetchRequestTime[t]===s&&(n.length>0&&Array.prototype.push.apply(e.data,r.improveData(n)),r.datasetLatestFetchRequestTime[t]=null)})).catch((function(t){var i="Failed to fetch "+e.label+" data, error "+t;o.c.Error("Archiver data acquisition",i),console.error(i)}))];case 1:return u.sent(),[2]}}))}))},t.prototype.updatePlot=function(t){return S(this,void 0,void 0,(function(){var e,i,n,a,s,r=this;return x(this,(function(u){switch(u.label){case 0:return e=this.chart.data.datasets[t],o.a.IncrementActiveRequests(),0!==e.data.length?[3,2]:[4,this.updateEmptyDataset(t,e)];case 1:return u.sent(),o.a.DecrementActiveRequests(),[2];case 2:return i=e.data[0].x,n=e.data[e.data.length-1].x,a=function(){for(;e.data.length>0&&e.data[0].x.getTime()<r.time.getStart().getTime();)e.data.shift()},s=function(){for(var t=e.data.length-1;e.data.length>0&&e.data[t].x.getTime()>r.time.getEnd().getTime();t--)e.data.pop()},i.getTime()>this.time.getStart().getTime()?[4,this.fillDataFromStartFirst(e,i)]:[3,4];case 3:return u.sent(),[3,5];case 4:a(),u.label=5;case 5:return n.getTime()<this.time.getEnd().getTime()?[4,this.fillDataFromLastToEnd(e,n)]:[3,7];case 6:return u.sent(),[3,8];case 7:s(),u.label=8;case 8:return this.improveData(e.data),0===e.data.length&&o.c.Info("Empty dataset "+e.label,"No data available for the time interval ["+this.time.getStart()+", "+this.time.getEnd()+"]"),o.a.DecrementActiveRequests(),[2]}}))}))},t.prototype.optimizeAllGraphs=function(){var t=this;this.chart.data.datasets.forEach((function(e,i){var n=!(t.shouldOptimizeRequest(e.pv.samplingPeriod,e.pv.type)<0);e.pv.optimized=n,r.a.dispatch(Object(u.j)({index:i,optimized:n}))}))},t.prototype.fillDataFromLastToEnd=function(t,e){return S(this,void 0,void 0,(function(){var i,a=this;return x(this,(function(s){switch(s.label){case 0:return i=t.label,[4,n.default.fetchData(i,e,this.time.getEnd(),!1).then((function(i){var n,a=i.data;if(a.length>0){for(var o=a[0].x;a.length>0&&o.getTime()<=e.getTime();)a.shift(),a.length>0&&(o=a[0].x);(n=t.data).push.apply(n,a)}})).catch((function(t){var n="Failed to fill data from "+i+" ["+e+" to "+a.time.getEnd()+"], error "+t;console.error(n),o.c.Error("Fetch data",n)}))];case 1:return s.sent(),[2]}}))}))},t.prototype.fillDataFromStartFirst=function(t,e){return S(this,void 0,void 0,(function(){var i,a=this;return x(this,(function(s){switch(s.label){case 0:return i=t.label,[4,n.default.fetchData(t.label,this.time.getStart(),e,!1).then((function(i){var n,a=i.data;if(a.length>0){for(var o=a[0].x;a.length>0&&o.getTime()>=e.getTime();)a.pop(),a.length>0&&(o=a[0].x);(n=t.data).unshift.apply(n,a)}})).catch((function(t){var n="Failed to fill data from "+i+" ["+a.time.getStart()+" to "+e+"], error "+t;console.error(n),o.c.Error("Fill data",n)}))];case 1:return s.sent(),[2]}}))}))},t.prototype.updateAllPlots=function(t){return S(this,void 0,void 0,(function(){var e,i=this;return x(this,(function(n){switch(n.label){case 0:return void 0===t&&(t=!1),this.updateOptimizedWarning(),e=this.chart.data.datasets.map((function(e,n){return S(i,void 0,void 0,(function(){var i=this;return x(this,(function(a){switch(a.label){case 0:return(e.pv.optimized||t)&&(e.data.length=0),[4,this.updatePlot(n).then((function(){i.update()}))];case 1:return a.sent(),[2]}}))}))})),[4,Promise.all(e).catch((function(t){console.error("Failed to update all plots "+t.message,t)}))];case 1:return n.sent(),[2]}}))}))},t.prototype.getPlotIndex=function(t){for(var e=0;e<this.chart.data.datasets.length;e++)if(this.chart.data.datasets[e].label===t||this.chart.data.datasets[e].label===decodeURIComponent(t))return e;return null},t.prototype.updateURL=function(){var t=a.a.timeAxisPreferences[this.windowTime].bins,e=this.chart.data.datasets;s.a.updateAddress(e,t,this.time.getStart(),this.time.getEnd())},t.prototype.getNewTimeWindow=function(){var t=this.time.getEnd().getTime(),e=this.time.getStart().getTime();var i=a.a.timeIDs.SEG_30;function n(n){return t-e<(o=n,a.a.timeAxisPreferences[o].milliseconds)&&n<i;var o}for(var o=0;n(o);)o++;return o},t.prototype.loadTooltipSettings=function(){var t=s.a.getCookie("singleTip");this.setSingleTipEnabled("true"===t||null==t),a.a.toggleTooltipBehavior(this.chart,this.singleTipEnabled)},t.prototype.shouldGetDateFromRemote=function(){var t=new Date;return this.lastFetch&&this.cachedDate?(t.getTime()-this.lastFetch.getTime())/1e3>30:(this.lastFetch=t,!0)},t.prototype.getDateNow=function(){return S(this,void 0,void 0,(function(){var t,e;return x(this,(function(i){switch(i.label){case 0:if(!this.serverDateEnabled)return[2,new Date];if(!this.shouldGetDateFromRemote())return[2,this.cachedDate];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.default.getRemoteDate()];case 2:return t=i.sent(),e=t||new Date,this.cachedDate=e,this.lastFetch=new Date,[2,e];case 3:return i.sent(),console.log("Date retrieval failed. Using local date."),this.serverDateEnabled=!1,[2,new Date];case 4:return[2]}}))}))},t.prototype.optimizePlot=function(t,e){return S(this,void 0,void 0,(function(){var i,n=this;return x(this,(function(a){switch(a.label){case 0:return i=this.getDatasetIndex(t),this.chart.data.datasets[i].pv.optimized=e,this.chart.data.datasets[i].data.length=0,[4,this.updatePlot(i).then((function(){n.updateURL(),n.update(),console.log("Plot update at index",i)})).catch((function(t){console.log("Failed to update plot at index "+i+", "+t)}))];case 1:return a.sent(),r.a.dispatch(Object(u.j)({index:i,optimized:e})),[2]}}))}))},t.prototype.removeDatasetByName=function(t){var e=this.getDatasetIndex(t);this.removeDataset(e,!1)},t.prototype.removeDataset=function(t,e){console.log("Remove index",t,this.chart.data.datasets),a.a.yAxisUseCounter()[this.chart.data.datasets[t].yAxisID]--,a.a.colorStack().push(this.chart.data.datasets[t].backgroundColor),e&&void 0!==e||this.stack.undoStackPush({action:d.a.REMOVE_PV,pv:this.chart.data.datasets[t].label,optimized:this.chart.data.datasets[t].pv.optimized});var i=this.chart.data.datasets[t].yAxisID,n=null;if(0===a.a.yAxisUseCounter()[i]){console.log("Removing Axis"),delete a.a.yAxisUseCounter()[i],this.chart.scales[i].options.display=!1,a.a.updateAxisPositionLeft("left"===this.chart.scales[i].position),delete this.chart.scales[i];for(var o=1;o<this.chart.options.scales.yAxes.length;o++)if(this.chart.options.scales.yAxes[o].id===i){this.chart.options.scales.yAxes.splice(o,1),n=i;break}}this.chart.data.datasets.splice(t,1),this.update({duration:0,lazy:!1,easing:"linear"}),this.updateURL(),this.updateOptimizedWarning(),r.a.dispatch(Object(u.e)({idx:t,removeAxis:n}))},t.prototype.hideAxis=function(t){a.a.hidesAxis(this.chart.getDatasetMeta(t.data.datasetIndex),this.chart),this.update({duration:0,lazy:!1,easing:"linear"})},t.prototype.toggleAxisType=function(t){return a.a.toggleAxisType(this.chart,t)},t.prototype.hideDataset=function(t){var e=this.getDatasetIndex(t);if(null!=e)return Object(a.c)(e,this.chart)},t.prototype.toggleSingleTip=function(){this.setSingleTipEnabled(!this.isSingleTipEnabled()),s.a.setCookie("singleTip",this.isSingleTipEnabled()?"true":"false",1),a.a.toggleTooltipBehavior(this.chart,this.isSingleTipEnabled())},t.prototype.getChart=function(){return this.chart},t.prototype.getStart=function(){return this.time.getStart()},t.prototype.getEnd=function(){return this.time.getEnd()},t.prototype.getReference=function(){return this.reference},t.prototype.isScrollingEnabled=function(){return this.scrollingEnabled},t.prototype.isServerDateEnabled=function(){return this.serverDateEnabled},t.prototype.getZoomFlags=function(){return this.zoomFlags},t.prototype.redoStackPop=function(){return this.stack.redoStackPop()},t.prototype.redoStackPush=function(t){this.stack.redoStackPush(t)},t.prototype.undoStackPop=function(){return this.stack.undoStackPop()},t.prototype.undoStackPush=function(t){this.stack.undoStackPush(t)},t.prototype.getWindowTime=function(){return this.windowTime},t.prototype.disableServerDate=function(){this.serverDateEnabled=!1},t.prototype.disableScrolling=function(){this.scrollingEnabled=!1},t.prototype.enableScrolling=function(){this.scrollingEnabled=!0},t.prototype.enableZoom=function(){this.zoomFlags.isZooming=!0,r.a.dispatch(Object(u.q)(!0))},t.prototype.disableZoom=function(){this.zoomFlags.isZooming=!1,r.a.dispatch(Object(u.q)(!1))},t}()),T=l.a.Controller.prototype.eventHandler;l.a.Controller.prototype.eventHandler=function(){var t=T.apply(this,arguments);if(!E.isSingleTipEnabled()){var e=this.chart.ctx,i=arguments[0].x;this.clear(),this.draw();var n=this.scales["y-axis-0"];e.beginPath(),e.moveTo(i,n.getPixelForValue(n.max)),e.strokeStyle="#ff0000",e.lineTo(i,n.getPixelForValue(n.min)),e.stroke()}this.tooltip.width=this.tooltip._model.width,this.tooltip.height=this.tooltip._model.height;var o=a.a.reboundTooltip(arguments[0].x,arguments[0].y,this.tooltip,.5);return this.tooltip._model.x=o.x,this.tooltip._model.y=o.y,t};e.b=E},10:function(t,e,i){"use strict";var n=i(8),a=i(30),o=new(function(){function t(){}return t.prototype.IncrementActiveRequests=function(){n.a.dispatch(a.a.increment())},t.prototype.DecrementActiveRequests=function(){n.a.dispatch(a.a.decrement())},t}()),s=i(25),r=i(26),u=new(function(){function t(){}return t.prototype.Info=function(t,e){var i={level:r.a.info,time:new Date,message:e,title:t};n.a.dispatch(s.a.addEntry(i))},t.prototype.Warning=function(t,e){var i={level:r.a.warn,time:new Date,message:e,title:t};n.a.dispatch(s.a.addEntry(i))},t.prototype.Error=function(t,e){var i={level:r.a.error,time:new Date,message:e,title:t};n.a.dispatch(s.a.addEntry(i))},t}()),c=i(15);var l=new(function(){function t(){}return t.prototype.setSearchResults=function(t){n.a.dispatch(c.a.setSearchResults(t))},t.prototype.setSearchResultsVisible=function(t){n.a.dispatch(c.a.setSearchResultsVisible(t))},t.prototype.doSelectAllResults=function(){n.a.dispatch(c.a.doSelectAllResults())},t.prototype.doDeselectAllResults=function(){n.a.dispatch(c.a.doDeselectAllResults())},t.prototype.doSelectSearchResults=function(t){n.a.dispatch(c.a.doSelectSearchResult(t))},t}());i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return l}))},12:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t[t.REMOVE_PV=0]="REMOVE_PV",t[t.APPEND_PV=1]="APPEND_PV",t[t.CHANGE_WINDOW_TIME=2]="CHANGE_WINDOW_TIME",t[t.CHANGE_END_TIME=3]="CHANGE_END_TIME",t[t.CHANGE_START_TIME=4]="CHANGE_START_TIME",t[t.ZOOM=5]="ZOOM"}(n||(n={}))},13:function(t,e,i){"use strict";i.r(e);var n=i(1);i.d(e,"REFERENCE",(function(){return n.a}));var a=n.b;e.default=a},15:function(t,e,i){"use strict";var n=i(17),a=function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},o=Object(n.b)({name:"search",initialState:{visible:!1,results:{}},reducers:{setSearchResults:{reducer:function(t,e){t.results=e.payload},prepare:function(t){var e={};return t.forEach((function(t){var i=a(a({},t),{selected:!1});e[t.pvName]=i})),{payload:e}}},setSearchResultsVisible:function(t,e){t.visible=e.payload},doSelectAllResults:function(t){for(var e in t.results)t.results[e].selected=!0},doDeselectAllResults:function(t){for(var e in t.results)t.results[e].selected=!1},doSelectSearchResult:function(t,e){var i=e.payload,n=i.selected,a=i.pvName;t.results[a].selected=n}}}),s=o.actions,r=o.reducer;i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}))},18:function(t,e,i){"use strict";i.r(e);var n=i(21),a=i.n(n),o=function(t,e,i,n){return new(i||(i=Promise))((function(a,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function r(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,r)}u((n=n.apply(t,e||[])).next())}))},s=function(t,e){var i,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},r=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//,u=function(){function t(){this.host="10.0.38.46",this.url=this.getUrl(),this.BYPASS_URL=window.location.protocol+"//"+this.url+"/archiver-generic-backend",this.GET_DATA_URL=window.location.protocol+"//"+this.url+"/retrieval/data/getData.json",this.APPLIANCES=[window.location.protocol+"//"+this.url,window.location.protocol+"//"+this.url+"/archiver-beamlines"]}return t.prototype.getRemoteDate=function(){return o(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,a.a.get(this.BYPASS_URL+"/date",{timeout:2e3}).then((function(t){if(200===t.status)return t.data;throw"Invalid response from date backend "+t.status+", "+t.data}))];case 1:return(t=e.sent())?[2,new Date(t)]:[2,null]}}))}))},t.prototype.fetchMetadata=function(t){return o(this,void 0,void 0,(function(){var e,i,n,o,r;return s(this,(function(s){switch(s.label){case 0:if(void 0===t)return[2,null];e=0,i=this.APPLIANCES,s.label=1;case 1:return e<i.length?(n=i[e],o=n+"/retrieval/bpl/getMetadata?pv="+t,[4,a.a.get(o,{timeout:0,responseType:"json"}).then((function(t){return 200!==t.status?null:t.data})).catch((function(t){return null}))]):[3,4];case 2:if(null!==(r=s.sent()))return[2,r];s.label=3;case 3:return e++,[3,1];case 4:return[2,null]}}))}))},t.prototype.setUrl=function(t){this.url=t},t.prototype.query=function(t){return o(this,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return 1e4,e=window.location.protocol+"//"+this.url+"/retrieval/bpl/getMatchingPVs?"+new URLSearchParams({pv:t,limit:"500"}).toString(),[4,a.a.get(e,{method:"GET",timeout:1e4,responseType:"json"}).then((function(t){if(200!==t.status)throw"Failed to complete request "+e+", response "+t;return t.data}))];case 1:return[2,i.sent()]}}))}))},t.prototype.parseData=function(t){var e=[];return t.forEach((function(t){var i,n=t.val,a=t.secs,o=t.nanos,s=t.severity,r=t.status;if(n instanceof Array){var u=n[0];n[1],n[2],n[3],n[4];i=u}else i=n;var c=new Date(1e3*a+1e-6*o);isNaN(c.getTime())||e.push({x:c,y:i,severity:s,status:r})})),e},t.prototype.fetchData=function(t,e,i,n,r){return o(this,void 0,void 0,(function(){var o,u;return s(this,(function(s){switch(s.label){case 0:return void 0===e||void 0===i?[2,null]:(void 0===n&&(n=!1),o=n?this.GET_DATA_URL+"?pv=optimized_"+r+"("+t+")&from="+e.toJSON()+"&to="+i.toJSON():this.GET_DATA_URL+"?pv="+t+"&from="+e.toJSON()+"&to="+i.toJSON(),[4,a.a.get(o,{timeout:0,method:"GET",responseType:"text",transformResponse:function(t){if(t.includes("Bad Request"))throw"Invalid response from "+o;var e=t.replace(/(-?Infinity)/g,'"$1"');return e=e.replace(/(NaN)/g,'"$1"'),e=JSON.parse(e)}}).then((function(t){if(200!==t.status)throw"Request "+o+" return invalid status code "+t;if(0===t.data.length)throw"Request returned an empty array, probably due to an invalid range for the url "+o;return t.data[0]}))]);case 1:return[2,{meta:(u=s.sent()).meta,data:this.parseData(u.data)}]}}))}))},t.prototype.getUrl=function(){if("vpn.cnpem.br"===window.location.host){var t=r.exec(window.location.href);t&&t.length>1&&(this.host=t[1])}else this.host=window.location.host;return"localhost:8080"!==window.location.host&&"127.0.0.1:8080"!==window.location.host||(this.host="10.0.38.46",console.log("DEBUG SERVER. Setting host to "+this.host)),this.host},t}(),c=function(){return new u}();e.default=c},19:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s}));var n,a,o="x-axis-0",s=0;!function(t){t.Year="year",t.Month="month",t.Day="day",t.Hour="hour",t.Minute="minute",t.Second="second",t.Week="week"}(n||(n={})),function(t){t[t.YEAR=0]="YEAR",t[t.MONTH_9=1]="MONTH_9",t[t.MONTH_6=2]="MONTH_6",t[t.MONTH_3=3]="MONTH_3",t[t.MONTH_1=4]="MONTH_1",t[t.WEEK_2=5]="WEEK_2",t[t.WEEK_1=6]="WEEK_1",t[t.DAY_25=7]="DAY_25",t[t.DAY_1=8]="DAY_1",t[t.HOUR_18=9]="HOUR_18",t[t.HOUR_12=10]="HOUR_12",t[t.HOUR_8=11]="HOUR_8",t[t.HOUR_4=12]="HOUR_4",t[t.HOUR_2=13]="HOUR_2",t[t.HOUR_1=14]="HOUR_1",t[t.MIN_30=15]="MIN_30",t[t.MIN_5=16]="MIN_5",t[t.SEG_30=17]="SEG_30"}(a||(a={}))},210:function(t,e,i){var n={"./af":48,"./af.js":48,"./ar":49,"./ar-dz":50,"./ar-dz.js":50,"./ar-kw":51,"./ar-kw.js":51,"./ar-ly":52,"./ar-ly.js":52,"./ar-ma":53,"./ar-ma.js":53,"./ar-sa":54,"./ar-sa.js":54,"./ar-tn":55,"./ar-tn.js":55,"./ar.js":49,"./az":56,"./az.js":56,"./be":57,"./be.js":57,"./bg":58,"./bg.js":58,"./bm":59,"./bm.js":59,"./bn":60,"./bn-bd":61,"./bn-bd.js":61,"./bn.js":60,"./bo":62,"./bo.js":62,"./br":63,"./br.js":63,"./bs":64,"./bs.js":64,"./ca":65,"./ca.js":65,"./cs":66,"./cs.js":66,"./cv":67,"./cv.js":67,"./cy":68,"./cy.js":68,"./da":69,"./da.js":69,"./de":70,"./de-at":71,"./de-at.js":71,"./de-ch":72,"./de-ch.js":72,"./de.js":70,"./dv":73,"./dv.js":73,"./el":74,"./el.js":74,"./en-au":75,"./en-au.js":75,"./en-ca":76,"./en-ca.js":76,"./en-gb":77,"./en-gb.js":77,"./en-ie":78,"./en-ie.js":78,"./en-il":79,"./en-il.js":79,"./en-in":80,"./en-in.js":80,"./en-nz":81,"./en-nz.js":81,"./en-sg":82,"./en-sg.js":82,"./eo":83,"./eo.js":83,"./es":84,"./es-do":85,"./es-do.js":85,"./es-mx":86,"./es-mx.js":86,"./es-us":87,"./es-us.js":87,"./es.js":84,"./et":88,"./et.js":88,"./eu":89,"./eu.js":89,"./fa":90,"./fa.js":90,"./fi":91,"./fi.js":91,"./fil":92,"./fil.js":92,"./fo":93,"./fo.js":93,"./fr":94,"./fr-ca":95,"./fr-ca.js":95,"./fr-ch":96,"./fr-ch.js":96,"./fr.js":94,"./fy":97,"./fy.js":97,"./ga":98,"./ga.js":98,"./gd":99,"./gd.js":99,"./gl":100,"./gl.js":100,"./gom-deva":101,"./gom-deva.js":101,"./gom-latn":102,"./gom-latn.js":102,"./gu":103,"./gu.js":103,"./he":104,"./he.js":104,"./hi":105,"./hi.js":105,"./hr":106,"./hr.js":106,"./hu":107,"./hu.js":107,"./hy-am":108,"./hy-am.js":108,"./id":109,"./id.js":109,"./is":110,"./is.js":110,"./it":111,"./it-ch":112,"./it-ch.js":112,"./it.js":111,"./ja":113,"./ja.js":113,"./jv":114,"./jv.js":114,"./ka":115,"./ka.js":115,"./kk":116,"./kk.js":116,"./km":117,"./km.js":117,"./kn":118,"./kn.js":118,"./ko":119,"./ko.js":119,"./ku":120,"./ku.js":120,"./ky":121,"./ky.js":121,"./lb":122,"./lb.js":122,"./lo":123,"./lo.js":123,"./lt":124,"./lt.js":124,"./lv":125,"./lv.js":125,"./me":126,"./me.js":126,"./mi":127,"./mi.js":127,"./mk":128,"./mk.js":128,"./ml":129,"./ml.js":129,"./mn":130,"./mn.js":130,"./mr":131,"./mr.js":131,"./ms":132,"./ms-my":133,"./ms-my.js":133,"./ms.js":132,"./mt":134,"./mt.js":134,"./my":135,"./my.js":135,"./nb":136,"./nb.js":136,"./ne":137,"./ne.js":137,"./nl":138,"./nl-be":139,"./nl-be.js":139,"./nl.js":138,"./nn":140,"./nn.js":140,"./oc-lnc":141,"./oc-lnc.js":141,"./pa-in":142,"./pa-in.js":142,"./pl":143,"./pl.js":143,"./pt":144,"./pt-br":145,"./pt-br.js":145,"./pt.js":144,"./ro":146,"./ro.js":146,"./ru":147,"./ru.js":147,"./sd":148,"./sd.js":148,"./se":149,"./se.js":149,"./si":150,"./si.js":150,"./sk":151,"./sk.js":151,"./sl":152,"./sl.js":152,"./sq":153,"./sq.js":153,"./sr":154,"./sr-cyrl":155,"./sr-cyrl.js":155,"./sr.js":154,"./ss":156,"./ss.js":156,"./sv":157,"./sv.js":157,"./sw":158,"./sw.js":158,"./ta":159,"./ta.js":159,"./te":160,"./te.js":160,"./tet":161,"./tet.js":161,"./tg":162,"./tg.js":162,"./th":163,"./th.js":163,"./tk":164,"./tk.js":164,"./tl-ph":165,"./tl-ph.js":165,"./tlh":166,"./tlh.js":166,"./tr":167,"./tr.js":167,"./tzl":168,"./tzl.js":168,"./tzm":169,"./tzm-latn":170,"./tzm-latn.js":170,"./tzm.js":169,"./ug-cn":171,"./ug-cn.js":171,"./uk":172,"./uk.js":172,"./ur":173,"./ur.js":173,"./uz":174,"./uz-latn":175,"./uz-latn.js":175,"./uz.js":174,"./vi":176,"./vi.js":176,"./x-pseudo":177,"./x-pseudo.js":177,"./yo":178,"./yo.js":178,"./zh-cn":179,"./zh-cn.js":179,"./zh-hk":180,"./zh-hk.js":180,"./zh-mo":181,"./zh-mo.js":181,"./zh-tw":182,"./zh-tw.js":182};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id=210},25:function(t,e,i){"use strict";var n=i(17),a=0,o=Object(n.b)({initialState:{entries:[]},name:"status",reducers:{addEntry:{reducer:function(t,e){t.entries.length>10?t.entries=t.entries.slice(1):t.entries.push(e.payload)},prepare:function(t){var e=t.level,i=t.message,n=t.time,o=t.title;return a++,{payload:{dateString:n.toString(),level:e,message:i,title:o,id:a}}}}}}),s=o.actions,r=o.reducer;i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}))},26:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t.debug="debug",t.info="info",t.warn="warn",t.error="error"}(n||(n={}))},28:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIME_AXIS_PREFERENCES=e.TIME_IDS=void 0;var n={YEAR:0,MONTH_9:1,MONTH_6:2,MONTH_3:3,MONTH_1:4,WEEK2:5,WEEK1:6,DAY25:7,DAY1:8,HOUR18:9,HOUR12:10,HOUR_8:11,HOUR_4:12,HOUR2:13,HOUR1:14,MIN_30:15,MIN10:16,MIN_5:17,MIN1:18,SEG_30:19};e.TIME_IDS=n;var a=[{text:"1Y",unit:"month",unitStepSize:2,milliseconds:31536e6,optimized:!0,bins:2e3,id:n.YEAR},{text:"9M",unit:"day",unitStepSize:4,milliseconds:23328e6,optimized:!0,bins:1200,id:n.MONTH_9},{text:"6M",unit:"day",unitStepSize:4,milliseconds:15552e6,optimized:!0,bins:1200,id:n.MONTH_6},{text:"3M",unit:"day",unitStepSize:4,milliseconds:7776e6,optimized:!0,bins:1200,id:n.MONTH_3},{text:"1M",unit:"day",unitStepSize:4,milliseconds:2592e6,optimized:!0,bins:800,id:n.MONTH_1},{text:"2w",unit:"day",unitStepSize:2,milliseconds:12096e5,optimized:!0,bins:800,id:n.WEEK2},{text:"1w",unit:"day",unitStepSize:2,milliseconds:6048e5,optimized:!0,bins:800,id:n.WEEK1},{text:"2.5d",unit:"hour",unitStepSize:12,milliseconds:216e6,optimized:!0,bins:800,id:n.DAY25},{text:"1d",unit:"hour",unitStepSize:3,milliseconds:864e5,optimized:!0,bins:800,id:n.DAY1},{text:"18h",unit:"hour",unitStepSize:2,milliseconds:648e5,optimized:!0,bins:800,id:n.HOUR18},{text:"12h",unit:"hour",unitStepSize:2,milliseconds:432e5,optimized:!0,bins:800,id:n.HOUR12},{text:"8h",unit:"hour",unitStepSize:2,milliseconds:288e5,optimized:!0,bins:800,id:n.HOUR_8},{text:"4h",unit:"hour",unitStepSize:2,milliseconds:144e5,optimized:!0,bins:400,id:n.HOUR_4},{text:"2h",unit:"minute",unitStepSize:15,milliseconds:72e5,optimized:!0,bins:400,id:n.HOUR2},{text:"1h",unit:"minute",unitStepSize:15,milliseconds:36e5,optimized:!1,bins:200,id:n.HOUR1},{text:"30m",unit:"minute",unitStepSize:3,milliseconds:18e5,optimized:!1,bins:200,id:n.MIN_30},{text:"10m",unit:"minute",unitStepSize:2,milliseconds:6e5,optimized:!1,bins:50,id:n.MIN10},{text:"5m",unit:"second",unitStepSize:30,milliseconds:3e5,optimized:!1,bins:50,id:n.MIN_5},{text:"1m",unit:"second",unitStepSize:15,milliseconds:6e4,optimized:!1,bins:50,id:n.MIN1},{text:"30s",unit:"second",unitStepSize:3,milliseconds:3e4,optimized:!1,bins:50,id:n.SEG_30}];e.TIME_AXIS_PREFERENCES=a},30:function(t,e,i){"use strict";var n,a=i(17),o=Object(a.b)({name:"requests",initialState:{pending:0,error:"",errorDateString:""},reducers:{increment:function(t){t.pending++},decrement:function(t){t.pending--}}}),s=((n=o.actions).decrement,n.increment,o.actions),r=o.reducer;i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}))},32:function(t,e,i){"use strict";var n=new(function(){function t(){}return t.prototype.isValidDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},t.prototype.getConfigFromUrl=function(){for(var t=[],e=null,i=null,n=window.location.search.split("&"),a=0;a<n.length;a++)-1!==n[a].indexOf("pv=")?t.push(decodeURIComponent(n[a].substr(n[a].indexOf("=")+1))):-1!==n[a].indexOf("from=")?e=decodeURIComponent(n[a].substr(n[a].indexOf("=")+1)):-1!==n[a].indexOf("to=")&&(i=decodeURIComponent(n[a].substr(n[a].indexOf("=")+1)));var o=null,s=null;return e&&(o=new Date(e)),i&&(s=new Date(i)),this.isValidDate(o)||(o=null),this.isValidDate(s)||(s=null),{to:s,from:o,pvs:t}},t.prototype.pushAddress=function(t){var e=""+window.location.pathname+t;history.pushState&&window.history.pushState({path:e},"",e)},t.prototype.updateAddress=function(t,e,i,n){var a="?";t.forEach((function(t){var i=t.label,n=t.pv.optimized;a+=n?"pv=optimized_"+e+"("+encodeURIComponent(i)+")&":"pv="+encodeURIComponent(i)+"&"})),a+="from="+encodeURIComponent(i.toJSON())+"&",a+="to="+encodeURIComponent(n.toJSON()),this.pushAddress(a)},t.prototype.setCookie=function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+"; "+a+"; SameSite=Strict"},t.prototype.getCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""},t}());e.a=n},5:function(t,e,i){"use strict";var n=i(28),a=i(19),o=["rgba(255, 0, 0, 1.0)","rgba(0, 255, 0, 1.0)","rgba(0, 0, 255, 1.0)","rgba(255, 10, 0, 1.0)","rgba(10, 255, 0, 1.0)","rgba(10, 10, 255, 1.0)","rgba(245, 130, 48, 1.0)","rgba(145, 30, 180, 1.0)","rgba(70, 240, 240, 1.0)","rgba(240, 50, 230 ,1.0)","rgba(210, 245, 60, 1.0)","rgba(250, 190, 190, 1.0)","rgba(0, 128, 128, 1.0)","rgba(230, 190, 255, 1.0)","rgba(170, 110, 40, 1.0)","rgba(128, 0, 0, 1.0)","rgba(170, 255, 195, 1.0)","rgba(255, 225, 25, 1.0)","rgba(0, 130, 200, 1.0)","rgba(128, 128, 128, 1.0)","rgba(0, 0, 0, 1.0)","rgba(230, 25, 75, 1.0)","rgba(60, 180, 75, 1.0)","rgba(0, 0, 128, 1.0)"],s=function(){return"#"+(Math.random().toString(16)+"0000000").slice(2,8)},r={MBAR:"mBar",mBar:"mBar",volt:"V",Volt:"V",v:"V"},u=i(23),c=i.n(u),l=i(8),d=i(9);i.d(e,"b",(function(){return v})),i.d(e,"c",(function(){return b}));var p=function(){return(p=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},h=[];new Map;var f=!0;var m=function(t){switch(t){case 1e-12:case 1e-11:case 1e-10:case 1e-9:case 1e-8:case 1e-7:case 1e-6:case 1e-5:case 1e-4:case.001:case.01:case.1:return t.toExponential(1);default:return""}},g=new Map;g.set("mBar",m);var v=function(t,e){for(var i=1;i<t.options.scales.yAxes.length;i++)if(t.options.scales.yAxes[i].id===e)return i;return console.error("Failed to find index of axis "+e),null},y=function(t,e,i){if(e in h)h[e]++;else{h[e]=1,void 0===i&&(i=3);var n={id:e,type:"linear",display:!0,position:f?"left":"right",scaleLabel:{display:!0,labelString:e}};t.options.scales.yAxes.push(p(p({},n),{ticks:{callback:function(t){return 0!==t&&Math.abs(t)<Math.pow(10,-i)?t.toExponential(i):i>4?t.toExponential(3):t.toFixed(i)},minor:{display:!0,labelOffset:0,padding:0}}})),f=!f,t.update(),l.a.dispatch(Object(d.b)(n))}};function b(t,e){var i=e.getDatasetMeta(t),n=i.yAxisID;i.hidden?(i.hidden=!1,h[n]++,e.scales[n].options.display=!0):(i.hidden=!0,h[n]--,h[n]<=0&&(e.scales[n].options.display=!1)),e.update(0,!1),l.a.dispatch(Object(d.k)({index:t,visible:!i.hidden}))}function S(t,e){t.hidden?(h[t.yAxisID]++,e.scales[t.yAxisID].options.display=!0,t.hidden=!1):(t.hidden=!0,h[t.yAxisID]--,h[t.yAxisID]<=0&&(e.scales[t.yAxisID].options.display=!1))}var x=function(t,e,i,n){var a=i.width,o=i.height,s={x:0,y:e};return t>i._chart.width-(a+10)?s.x=t-a-5:s.x=t+5,s.y=e-o*n+5,s};c.a.Tooltip.positioners.cursor=function(t,e){return x(e.x,e.y,this,0)};e.a={timeAxisID:a.a,timeAxisPreferences:n.TIME_AXIS_PREFERENCES,timeIDs:n.TIME_IDS,getAxesInUse:function(t){if(null==t||t.length<=1)return[];var e=[];return t.forEach((function(t){t.id in h&&h[t.id]>0&&e.push(t)})),e},yAxisUseCounter:function(){return h},colorStack:function(){return o},axisPositionLeft:function(){return f},toggleTooltipBehavior:function(t,e){e?(t.options.tooltips.position="nearest",t.options.tooltips.mode="nearest",t.options.tooltips.caretSize=5,delete t.options.tooltips.yAlign,delete t.options.tooltips.xAlign,delete t.options.tooltips.axis,t.options.elements.point.hoverRadius=5):(t.options.tooltips.position="cursor",t.options.tooltips.mode="nearest",t.options.tooltips.caretSize=0,t.options.tooltips.yAlign="no-transform",t.options.tooltips.xAlign="no-transform",t.options.tooltips.axis="x",t.options.elements.point.hoverRadius=0),t.update()},updateAxisPositionLeft:function(t){f=t},toggleAxisType:function(t,e){var i=function(t,e){if(t.options.scales.yAxes.length<=1)return null;for(var i=1;i<t.options.scales.yAxes.length;i++)if(t.options.scales.yAxes[i].id===e)return t.options.scales.yAxes[i];return null}(t,e);if(null!==i){var n="linear"===i.type;i.type=n?"logarithmic":"linear",n?(i.callback=m,e in g?i.callback=g.get(e):delete i.callback):delete i.callback,t.update(),l.a.dispatch(Object(d.f)({id:e,isLog:n}))}},updateTimeAxis:function(t,e,i,n,o){t.options.scales.xAxes[a.b].time.unit=e,t.options.scales.xAxes[a.b].time.stepSize=i,t.options.scales.xAxes[a.b].time.min=n,t.options.scales.xAxes[a.b].time.max=o},appendDataAxis:y,appendDataset:function(t,e,i,n,u){var c=parseFloat(u.samplingPeriod),h=u.pvName,f=u.DESC,m=u.DBRType,g=function(t,e){var i;return i=(i=void 0===t||""===t?e:t).replace("?","o"),t in r?r[i]:i}(u.EGU,u.pvName),v=o.length>0?o.pop():s();y(t,g,n);var b={label:h,yAxisID:g,backgroundColor:v,borderColor:v,pv:{precision:n,type:m,samplingPeriod:c,optimized:!(i<0),desc:f,egu:g,metadata:u}};t.data.datasets.push(p(p({},b),{xAxisID:a.a,borderWidth:1.5,data:e,fill:!1,pointRadius:0,showLine:!0,steppedLine:!0})),t.update(),l.a.dispatch(Object(d.c)(p(p({visible:!0},b),{pv:p({},b.pv)})))},hidesAxis:S,legendCallback:function(t,e){S(this.chart.getDatasetMeta(e.datasetIndex),this.chart),this.chart.update(0,!1)},labelCallback:function(t,e){var i=e.datasets[t.datasetIndex].pv.precision,n=e.datasets[t.datasetIndex].label,a=t.yLabel;return n+": "+(i>4?a.toExponential(3):0!==a&&Math.abs(a)<Math.pow(10,-i)?a.toExponential(Math.min(3,i)):a.toExponential(i))},reboundTooltip:x,randomColorGenerator:s}},8:function(t,e,i){"use strict";var n=i(17),a=i(184),o=i.n(a),s=i(20),r=i(9),u=i(30),c=i(15),l=i(25),d=Object(s.c)({chart:r.d,requests:u.b,search:c.b,status:l.b}),p="127.0.0.1"===window.location.hostname||"localhost"===window.location.hostname?function(t){return t().concat(o.a)}:function(t){return t()},h=Object(n.a)({reducer:d,middleware:p});e.a=h},9:function(t,e,i){"use strict";var n={};i.r(n),i.d(n,"doRemoveDataAxis",(function(){return r})),i.d(n,"addToDataAxis",(function(){return u})),i.d(n,"setAxisYLimitMin",(function(){return c})),i.d(n,"setAxisYLimitMax",(function(){return l})),i.d(n,"setAxisYLimitManual",(function(){return d})),i.d(n,"setAxisTypeLog",(function(){return p})),i.d(n,"addToDataset",(function(){return h})),i.d(n,"clearDatasetFetching",(function(){return f})),i.d(n,"setDatasetFetching",(function(){return m})),i.d(n,"setDatasetVisible",(function(){return g})),i.d(n,"setDatasetOptimized",(function(){return v})),i.d(n,"removeDataset",(function(){return y})),i.d(n,"addActionToStack",(function(){return b})),i.d(n,"setWindowTime",(function(){return S})),i.d(n,"setAutoScroll",(function(){return x})),i.d(n,"setZooming",(function(){return E})),i.d(n,"setSingleTooltip",(function(){return T})),i.d(n,"setTimeReferenceEnd",(function(){return w})),i.d(n,"setTimeStart",(function(){return A})),i.d(n,"setTimeEnd",(function(){return D}));var a=i(17),o={actionsStack:[],autoScroll:!1,dataAxis:[],datasets:[],singleTooltip:!0,timeEnd:null,timeReferenceEnd:!0,timeStart:null,windowTime:i(28).TIME_IDS.MIN_30,zooming:!1},s=function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function r(t,e){var i=null;t.dataAxis.forEach((function(t,n){t.id===e.payload&&(i=n)})),null!==i&&t.dataAxis.splice(i,1)}var u={reducer:function(t,e){t.dataAxis.push(e.payload)},prepare:function(t){return{payload:s(s({},t),{isLog:"linear"!==t.type,yLimitManual:!1,yMax:null,yMin:null})}}};function c(t,e){var i=e.payload,n=i.id,a=i.yMin;t.dataAxis.forEach((function(t){t.id===n&&(t.yMin=a)}))}function l(t,e){var i=e.payload,n=i.id,a=i.yMax;t.dataAxis.forEach((function(t){t.id===n&&(t.yMax=a)}))}function d(t,e){var i=e.payload,n=i.id,a=i.yLimitManual;t.dataAxis.forEach((function(t){t.id===n&&(t.yLimitManual=a)}))}function p(t,e){var i=e.payload,n=i.id,a=i.isLog;t.dataAxis.forEach((function(t){t.id===n&&(t.isLog=a,t.type=a?"logarithmic":"linear")}))}var h={reducer:function(t,e){t.datasets.push(e.payload)},prepare:function(t){return{payload:s({fetching:!1,fetchTime:null},t)}}};function f(t,e){var i=e.payload.idx;i>t.datasets.length?console.warn("Invalid dataset index "+i):(t.datasets[i].fetching=!1,t.datasets[i].fetchTime=null)}function m(t,e){var i=e.payload,n=i.idx,a=i.time;n>t.datasets.length?console.warn("Invalid dataset index "+n):(t.datasets[n].fetching=!0,t.datasets[n].fetchTime=a.getTime())}function g(t,e){var i=e.payload,n=i.index,a=i.visible;t.datasets[n].visible=a}function v(t,e){var i=e.payload,n=i.index,a=i.optimized;t.datasets[n].pv.optimized=a}function y(t,e){var i=e.payload,n=i.idx,a=i.removeAxis;if(t.datasets.splice(n,1),null!==a){var o=null;t.dataAxis.forEach((function(t,e){t.id===a&&(o=e)})),null!==o&&t.dataAxis.splice(o,1)}}function b(t,e){t.actionsStack.push(e.payload)}function S(t,e){t.windowTime=e.payload}function x(t,e){t.autoScroll=e.payload}function E(t,e){t.zooming=e.payload}function T(t,e){t.singleTooltip=e.payload}function w(t,e){t.timeReferenceEnd=e.payload}var j,A={reducer:function(t,e){t.timeStart=e.payload},prepare:function(t){return{payload:t.toLocaleString()}}},D={reducer:function(t,e){t.timeEnd=e.payload},prepare:function(t){return{payload:t.toLocaleString()}}};i.d(e,"b",(function(){return O})),i.d(e,"c",(function(){return _})),i.d(e,"e",(function(){return k})),i.d(e,"f",(function(){return z})),i.d(e,"g",(function(){return M})),i.d(e,"h",(function(){return I})),i.d(e,"i",(function(){return N})),i.d(e,"j",(function(){return P})),i.d(e,"k",(function(){return U})),i.d(e,"l",(function(){return H})),i.d(e,"m",(function(){return F})),i.d(e,"n",(function(){return L})),i.d(e,"o",(function(){return C})),i.d(e,"p",(function(){return G})),i.d(e,"q",(function(){return V})),i.d(e,"a",(function(){return W}));var R=Object(a.b)({name:"chart",initialState:o,reducers:n}),O=((j=R.actions).addActionToStack,j.addToDataAxis),_=j.addToDataset,k=(j.clearDatasetFetching,j.doRemoveDataAxis,j.removeDataset),z=(j.setAutoScroll,j.setAxisTypeLog),M=j.setAxisYLimitManual,I=j.setAxisYLimitMax,N=j.setAxisYLimitMin,P=(j.setDatasetFetching,j.setDatasetOptimized),U=j.setDatasetVisible,H=j.setSingleTooltip,F=j.setTimeEnd,L=j.setTimeReferenceEnd,C=j.setTimeStart,G=j.setWindowTime,V=j.setZooming,W=R.actions;e.d=R.reducer}});